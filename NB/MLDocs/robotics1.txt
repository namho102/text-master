mobil network applic springer sciencebusi media inc manufactur the netherland manti embed multithread oper system wireless micro sensor platform shah bhatti jame carlson hui dai jing deng jeff rose anmol sheth brian shucker charl gruenwald adam torgerson richard han depart comput scienc univers colorado boulder campus box boulder abstract the manti multimod system network wireless sensor providesnew multithread embed oper system wireless sensor network sensor network accommod increas complex task signal process preemptiv multithread manti sensor mos enabl micro sensor node nativ interleav complex task task therebi mitig bound buffer problem achiev memori effici mos implement inlightweight ram footprint fit less byte memori includ kernel schedul network stack achiev energi effici mos schedul sleep microcontrol activ thread call mos sleep function reduc current consumpt mos design featur flexibl form support test across pcs pdas differ micro sensor platform anoth key mos design featur support remot manag sensor via dynam reprogram remot login keyword embed oper system sensor network multithread lightweight low power dynam reprogram introduct the popular wireless sensor network wsns import new research domain grown dramat wsn system typic consist micro sensor node wireless network this sensor network monitor environ collect sens data relay data back tocollect point typic resid internet wsns integr hardwar platform embed oper system network communic backend data servic togeth complet system capabl provid novel distribut sens environment phenomena standard micro sensor system includ berkeley architectur metacricket mit cricket cubould manti system europ eye btnode project this autom consider simplifi program applic develop this paper demonstr complex need support preemptiv easili accommod today mote withkernel memori cost less byte includ schedul network stack moreov paper show multithread energi effici mutual exclus thatmultithread system design sleep effici applic thread indic use work done the fine interleav concurr multithread use sensor system prevent one task block execut ofsecond task sensor correspond author network task perfom increas complex duti signal process collabor target track time synchron local encrypt show later section task enough system prevent timesensit process task process radio packet differ layer network stack network stack block fulli process arriv packet task run complet network stack bound buffer could quick overflow especi sensor node limit ram result lost packet multithread conveni mitig classic bound buffer problem interleav process packet network stack thread execut multipl complex task packet empti buffer overflow reach our discuss focus onloos interpret bound buffer problem term resourc constraint rather tradit interpret field synchron the challeng designingmultithread embed oper system wsns motiv sever resourc constraint impos micro sensor node limit memori well limit energi lifetim the ram avail micro sensor node exceed scarc today mote while sensor node may diversifi toward nano node macro node lesser greater capabl current generat micro sensor node standard start refer assum paper because sever memori constraint tradit multithread embed oper system bhatti qnx vxwork occupi larg ofmemori footprint execut micro sensor node embed linux face limit two embed embed oper system avrx andµco written avr microcontrol found mote both achiev preemptiv multitask inlightweight ram footprint less µcos islicens commerci avrx open sourc the manti open sourc mos differ two embed rtoss adapt addit requir impos sensor network develop schedul reduc energi consumpt implement advanc featur like remot dynam reprogram micro sensor node addit memori effici micro sensor node also requir energi effici design sensor micro sensor node often deploy apart electr power grid therefor reli batteri power energi harvest solar cell givenset new batteri lifetim node extend month depend upon extent duti cycl lower key new challeng design sensor therefor includ achiev lightweight memori footprint well oper this paper describ manti lightweight multithread oper system multimod network micro sensor node present mos kernel abl achiev multithread preemptiv schedul execut standard synchron network protocol stack less byte ram includ individu thread stack size addit manti design provid support across pdas well divers micro sensor hardwar platform for exampl manti current support mote well manti nymph manti also seek provid tool eas deploy manag sensor network order achiev support mos design leverag properti ofport standard program languag case theprogram languag mos enabl applic code execut onvarieti platform rang pda differ micro sensor platform detail earlier work enabl phase deploy applic internetbas environ tophys deploy applic code test first onvirtu sensor node execut pda provid api preserv micro sensor node for exampl mos userlevel network stack permitsnetwork layer rout algorithm test first virtual sensor node onlinux deploy the emstar system also advoc crossplatform support though approach focus tinyo explain later benefit approach mos achiev code reus andlow barrier entri term program sensor network for exampl standard reliabl protocol well asstandard secur algorithm avail ascod port mos also standard program languag standard thread model eas barrier entri program sensor network sinc kernel also written kernel develop leverag skill use applic develop mos also design provid advanc remot manag capabl sensor network toward end goal mos support use yet sophist featur includ dynam reprogram sensor node via wireless remot debug sensor node multimod prototyp virtual deploy sensor node remaind paper section describ mos architectur includ schedul network stack mos achieveslightweight implement section provid discuss differ sensor model program paradigm section describ multithread mos achiev power effici section explain goal mos respect featur section summar manti hardwar nymph section conclud futur work lightweight manti oper system design section describ architectur manti oper system adher toclass layer multithread design shown figur applic thread separ api under preserv api across platform mos enabl support mos consist oflightweight schedul network stack well compon devic driver applic api manti providesconveni environ creat wsn applic figur illustratessimpl yet common figur manti architectur compressesclass multithread layer oper system design byte ram manti embed multithread oper system figur simpl sampl code applic sender use sens forward applic thread avail along complet open sourc manti softwar releas http this simpl applic thread run onmicro sensor node mote readssensor valu analog digit convert adc port toggl led transmit valu sensor ten line code all applic begin start similar main the system proper initi thread network stack anoth applic thread though shown exampl applic thread spawn new thread call thread new applic the program compact requiresfair shallow learn curv forprogramm earli empir experi mos suggest applic develop rapid prototyp new applic environ applic conductor wand prototyp hour applic protocol andport secur standard complet less two night manti providescomprehens set system api system interact forcomplet list inform api pleas refer http for preced sens forward applic exampl api use applic categor network com send com recv com ioct com mode board sensor adc dev write dev read visual feedback led mos led toggl schedul thread new could use the choic ofac languag api simplifi support develop ofmultimod prototyp environ the manti system api preserv across physic sensor node well virtual sensor node run platform asresult samecod develop manti sensor nymph atmel microcontrol compil run pcs littl alter kernel schedul the design mos kernel resembl classic unixstyl schedul the servic provid aresubset posix thread notabl thread schedul semant withinprior level binari mutex count semaphor also support the goal mos kernel design implement familiar servic inmann effici enough resourceconstrain environ ofsensor node the limit resourc onmanti node ram there two logic distinct section ram space global variabl alloc compil time rest ram manag asheap whenthread creat stack space alloc kernel heap the space recov thread exit current implement user encourag dynam alloc heap space although api decis inher limit mos this limit impos limit memori import well plan coher memori manag polici the kernel main global data structur isthread tabl one entri per thread sinc thread tabl alloc static isfix maximum number thread fix level memori overhead the maximum thread count adjust compil time default each thread tabl entri ten byte containscurr stack pointer stack boundari inform base pointer size pointer thread start function thread prioriti level andnext thread pointer use link list note pointer avr microcontrol two byte thread current context includ save regist valu store stack thread suspend this signific context much larger thanthread tabl entri need store thread alloc thus static overhead thread tabl byte the kernel also maintain head tail pointer prioriti level default byte total keep pointer allow fast addit delet improv perform manipul thread list this import manipul frequent alway occur interrupt disabl there alsocurr thread pointer byte interrupt status byte one byte flag the total static overhead schedul thus byte semaphor mos structur declar need applic containlock count byte along head tail list pointer given time alloc thread ismemb exact one list either one readi list orsemaphor list semaphor oper move thread pointer list schedul bhatti cycl readi list locat next thread execut the schedul receivestim interrupt hardwar trigger context switch switch may also trigger system call semaphor oper the timer interrupt one handl hardwar interrupt sent direct associ devic driver upon interrupt devic driver typic postssemaphor order activatewait thread thread handl whatev event caus interrupt there current soft interrupt support mos kernel although design preclud futur the time slice configur current set addit driver thread user thread also idl thread creat kernel startup the idl thread low prioriti run thread block the idl thread inposit implement schedul may detect pattern cpu util adjust kernel paramet conserv energi network stack comm layer wireless network critic correct oper network sensor such communic typic realiz aslay network stack confus thread stack the design manti network stack focus effici use limit memori flexibl conveni the stack implement one userlevel thread shown figur follow design alpin network stack enabl easi experiment network stack user space also enabl prototyp network stack function pcs prior deploy wsns new rout protocol test virtual sensor node linux pcs deploy explain later section the term user space apt appli manipul network stack pcs clear distinct user space kernel space rather mcu sensor node distinct figur the mos communic comm layer left design asynchron radio serial achiev zero copi oper zero poll the devic dev layer right design synchron sensor read differ layer flexibl implement differ thread layer stack implement one thread the tradeoff perform flexibl the stack design minim memori buffer alloc layer the data bodi forpacket common layer withinthread way network stack avoid data copi resembl zero copi approach tinyo smac zero copi socket the stack support layer three network layer rout transport layer applic layer mac protocol support perform communic layer also call comm layer locat insepar lower layer distinct network stack the mos comm layer providesunifi interfac communic devic driver interfac serial usb radio devic the comm layer shown figur the comm layer also manag packet buffer synchron function the network applic thread interact communic devic four function com send com recv com mode com ioctl when com send call send thread network perhap applic thread passespoint topacket buffer calledcombuf the comm layer block send thread pass pointer specifi devic driver while devic driver may implement thread typic implement term state machin this state machin proceed send packet hardwar devic send thread resum state machin reach complet state while send synchron receiv must happen background even whennetwork applic thread current makingcom recv call memori receiv packet thus manag comm layer own number combuf devic driver may request combuf alloc devic oncecombuf obtain devic driver may fill withreceiv packet direct interrupt state machin whenpacket recept complet devic driver call com swap buf exchang full combuf empti one full packet manti embed multithread oper system buffer order comm layer whenthread call com recv block untilful combuf specifi devic avail timepoint combuf return sinc receiv thread possessesbuff alloc comm layer must call com free buf finish buffer advis comm layer buffer may reus the extra call freebuff complex receiv thread allow comm layer provid true servic also comm layer complet comm layer achiev zero poll energi effici besid send receiv function comm layer provid mode ioctl call the mode call use power power devic need the mean ioctl call the mac layer protocol locat within devic driver radio hous comm layer the mac layer respons control aspect network duti cycl wherein radio adapt slept save energi consumpt transmit power control the mac layer flexibl support radio communic channel enabl research mac protocol design secur rang packet size support withmaximum byte earli version mac protocol support random backoff current version mac support tdma star topolog mos support csma near futur adopt augment smac bmac the lower layer network stack includ mac physic layer occupi byte ram total support three communic interfac name radio serial link loopback interfac addit ram buffer must alloc store packet data thus comm buff alloc byte per buffer three byte overhead per buffer current five buffer alloc though plan alloc buffer ram sinc buffer pass direct applic zero copi addit small amount space consum configur paramet radio modul forbroadcast flood rout protocol andsimpl stop wait protocol provid mos default exampl develop protocol network applic layer network layer broadcast flood add addit thirti byte ram the size network stack depend complex protocol user desir implement overal network stack consum less byte ram devic driver manti adopt tradit partit respect devic driver design hardwar the devic layer dev layer shown figur hous driver synchron sensor extern storag etc driver asynchron communic radio serial hous comm layer sever system call dev read dev write dev mode dev ioctl implement devic insimpl devic static tabl use store function pointer devic implement devic layer model devic specifi index tabl rather usingfil descriptor save code size memori usag sinc tabl static lost overhead full each devic function implement andmutex overhead minim after initi devic call dev regist made place devic function pointer call tabl initi mutex associ devic this driver scheme implement eeprom sever assort sensor plan access flash storag forese driver possibl devic easili conform model the dev mode call provid interfac power manag system devic current instat idl user know use devic forperiod time may set idl depend need forsav power consumpt before access devic mode must set back the dev ioctl call isgener function take devicespecif variabl eeprom use function set memori address dev read dev write access hardwar driver written routin fit normal devic model access interfac summari togeth code size kernel schedul network stack occupi less byte ram flash this permit suffici space multipl applic thread execut ram well suffici storag flash storag discuss thread event this section discuss first benefit cost preemptiv multithread sensor system the follow discuss refer figur depict two execut model sensor system approach left andpreempt multithread model right the literatur containsvarieti exampl system well comparison two model paper suggest system achiev high perform system concurr intens applic appropri modif thread packag tinyo isstandard embed sensor network base design philosophi the simplic system tailor sensor task run complet respect task may interrupt event only one stack need one task run context switch tinyo bhatti figur buffer applic avoid buffer overflow inpreempt system interleav thread right consum execut empti buffer system left overflow buffer whenconsum task forc wait task finish produc complex task also assumesmodular program languag nesc extens isstat languag memori usag prealloc besid modular fashion nesc also analyz code handl concurr insid languag instead user level the design tinyo also believ approach abl creat system sinc neither block poll event system unus cpu cycl spent sleep state oppos activ look interest event tinyo provid paradigm meet requir simpl task characterist today sensor node the manti multithread seek providepathway evolv sensor system support increas complex task time meet resourc constraint energi memori typic sensor network multithread offer automat preemption advantag thatsingl segment applic code block execut task this import sensor system sinc block certain task execut network packet process result overflow network buffer task suffici sensor node ram buffer suffici small illustr bound buffer problem appli sensor network figur depict two task namelyproduc andconsum such pair task common typic sharebuff shown produc generat data produc place data bound buffer two task the consum empti buffer whenev haschanc execut consum unabl execut time produc continu add data buffer buffer eventu overflow for sensor network typic consum would benetwork stack need process incom packet rout packet radio intyp sensor network topolog sensor node relay data sever children node topar node closer ultim destin name base station arriv radio packet typic caus interrupt preempt execut task small interrupt handler transfer packet tobuff complet process later time anoth task network stack thus multipl downstream node act produc sensor data whose packet receiv deposit relay node buffer await process relay network stack sensor node call upon perform increas complex task likelihood increas task system block process network stack consum result lost packet due buffer overflow such task could includ aggreg via standard compress algorithm standard standard signal process techniqu though today aggreg typic littl summar multipl sensor valu calcul averag unreason expect aggreg employ sophist yet compress algorithm near futur for exampl portedlightweight compress algorithm use arithmet code mote this compress code execut ram provid atmel chip other research port compress algorithm similar though today sensor node employ scalar valu trigger action rout temperatur degre futur behavior may well trigger simpl frequenc analysi sensor data sensor data hasstrong tone khz thus also portedstandard fft algorithm base integ arithmet fast execut mote other research implementedmuch slower float point fft previous work implement encrypt mica mote present improv implement paper the result execut time summar tabl found thatstandard compress task arithmet code relat arithmet compress sampl data took arithmet decompress sampl took arithmet code chosen compress effici altern would huffman code would sacrific compress forspe improv aboutfactor two also integ fft requir tabl execut time various complex task complex task execut time arithmet code compress arithmet code decompress fft integ fft float point sec encrypt round byte encrypt tabl byte manti embed multithread oper system execut expect ffts requir hundr millisecond run complet low memori mode requir complet encrypt byte data any task suffici run complet iscandid caus buffer overflow lost packet suppos byte ram devot network stack buffer suppos also packet arriv four downstream neighbor rate packet size byte case sensor data arriv atrat complex task take thanfew hundr millisecond run complet bound buffer overflow contrast inmultithread system network stack consum thread given time slice despit presenc thread thus abl process traffic limit loss data address bound buffer problem programm system therefor burden sever difficult task first programm must decompos code suffici small execut modul case arithmet compress correct partit code may requiresemant understand algorithm isstiff requir forprogramm wish port code tomicro sensor platform for exampl decomposit compress code tinyo modul requir detail semant awar second understand code modul suffici small avoid block task depend upon task execut well applic toler neither knownpriori programm the design may forc choos finest granular avoid pitfal the least difficult option port code one monolith modul run risk bound buffer problem third programm must invest signific time make sure relinquish control proper modul for exampl programm must ensur modul avoid poll infinit loop order avoid indefinit block task contrast programm mos alter program practic accommod concern program written without physic partit thread execut though programm free generat multipl thread desir addit sinc isvast bodi code alreadi written thread oper system programm port code mos relat eas without requiringdeep semant understand code also task without explicit ensur program block hinder process support multithread mos come cost context switch overhead addit stack memori thread first claim context switch overhead onlymoder issu wsns each context switch incur microsecond overhead instruct approxim clock cycl sinc regist need reset comparison default time slice much larger this less percent microcontrol cycl sinc wsns larg focus sensor data acquisit packet forward comput perform thread modest slowdown pure comput speed affect primari function micro sensor node the second cost multithread memori alloc thread stack though mitig intellig stack analysi the default thread stack size mos byte sinc ram avail mote kernel occupi less byte consider space left parameter mos support todoubl digit number user thread for earli rene mote byte total ram would infeas fit mos kernel user thread constrain space sinc current futur sensor node like contain least present capac ram mos demonstr suffici memori fulli support multithread applic howev degre multithread remain issu possibl stack overflow insuffici space alloc thread stack overflow mitig issu current develop stack analysi tool accur forecast stack need thread alloc suffici memori avoid stack overflow the program paradigm mos base onstandard program languag this enablesshallow learn curv support code reus while nesc extens addit invest requir understand program use nesc modul over time two type sensor system may well converg coexist futur could envisionsensor system combin best system flexibl well event driven system model providesgener solut synchron code preemption syntax prioriti mechan yet event mani sens applic well analog argument adapt reconfigur microkernel perform monolith kernel result develop modular kernel combin advantag moreov sensor network diversifi micro sensor node may run code communic other execut via multithread aggreg applicationspecif node power manag challeng design system sleep schedul thread need schedul thread either block block reason use work perform section describ manti achiev energi effici viasleep function bhatti design resembl semant unix sleep function takingparamet durat sleep differ behavior applic thread call sleep this sleep function enabl thread system shut meaning work therebi avoid poll typic wireless node last onlyfew day two batteri use continu monitor two batteri milliamper per hour mahr last approxim day power consumpt day the effect techniqu extend lifetim sensor node low duti cycl sleep node time tradit power manag techniqu laptop transit idl activ mode oper approach explor work addit low power method throttl perform ofprocessor turn part ofprocessor well vari voltag embed system pursu work sensor node sleep withlow duti cycl valu duti cycl must determin well period these import paramet control energi effici adapt ifsensor node employ one sensor monitor temperatur per second period simpli set one second howev sensor node capabl monitor one sens domain simultan temperatur relat humid given multimod sens low duti cycl behavior becom complex temperatur sensor monitor everi three second humid monitor everi seven second desiresensor capabl integr stagger offset sleep period moreov desir thatsensor respons chang environment condit within sens zone for exampl run time applic track event may wish chang sampl frequenc period respons sens data motion anim the sensor provid mechan adapt chang sampl frequenc duti cycl applic addit behavior applic aggreg far differ task period temperatur humid sens aggreg applic may wish delay sleep ofsensor node comput complet regardless various sens therefor flexibl enough accommod applic behavior addit datadriven sens applic vari period duti cycl these exampl illustr thatsensor provid mechan enabl divers applic indic often wish sleep order achiev power effici the sensor figur mos provid applic thread withsleep period function thread call sleep shut microcontrol first sleep deadlin expir combin natur emerg schedul timet meet applic need also achiev energi effici the schedul determin safe system sleep addit sensor adapt chang condit applic run time chang sleep time pattern period initi step toward build capabl implementedsleep function shown figur similar unix sleep function first applic thread must enabl mode accomplish call mos enabl power mgt all thread enabl mode though default option turn must explicit activ this chosen maintain compat unix sleep behavior next applic thread may call mos thread sleep period withparamet period specifi durat sleep this chosen mimic behavior unix sleep howev mos add capabl applic thread call sleep system truli sleep time for exampl one applic thread system period wake accord period specifi thread multipl applic thread call sleep specifi differ sleep durat schedul keep track earliest deadlin expir wake system otherwis system sleep tabl list current consum bysens forward applic thread mote run mos differ duti cycl while activ execut applic code mote run sens forward consum howev applic thread slept power consumpt this confirm mos correct sleep microcontrol also abl period wake thread execut code thus mos abl achiev energi effici maintainingthread schedul capabl manti embed multithread oper system tabl power consumpt mos sleep mode awak mode power sleep sens forward awak duti cycl forsec cycl masec duti cycl forsec cycl masec figur illustr mos schedul the readi queue mos schedul consist five prioriti high low kernel sleep high normal idl the schedul select highest prioriti readi task either execut complet put readi queue time slice expir the schedul use multi thread time slice when thread readi execut system sleep automat instead spin duti cycl idl loop the depth sleep vari follow system suspend figur mos schedul system enter atmel moder idl sleep mode otherwis applic thread call sleep system enter deep sleep sleep queue maintain order list thread call sleep order sleep time low high when sleep time thread front queue expir queue shorten sleep time readjust use implement sleep timer allow clock extern khz watch crystal independ intern cpu clock necessari wake processor deep sleep the sleep prioriti readi queue enabl newli woken thread higher prioriti servic first wake mos also achiev energi effici implement comm layer complet there zero poll comm layer advanc featur manti sensor network impos addit uniqu demand design oper system beyond resourc constraint bhatti sensor network applic develop need abl prototyp test applic prior distribut physic deploy field also deploy sensor node need capabl dynam reprogram remot debug next section manti identifi implement three key advanc featur expert user sensor system bridg internet sensor network multimod prototyp the manti prototyp environ providesframework prototyp divers applic bridg applic internet deploy sensor network key requir sensor system need provid prototyp environ test sensor network applic prior deploy postpon test applic deploy acrossdistribut sensor network incur sever consequ asresult prototyp environ especi help tool sensor network applic develop the manti prototyp environ extend beyond simul providelarg framework develop network manag visual applic virtual node withinmanti sensor network first manti desir properti enabl applic develop test execut samecod virtual sensor node later physic sensor node second manti seamless integr virtual environ real deploy network virtual physic node coexist communic prototyp environ shown figur seamless integr enabl phase deploy test applic applic code could first evalu network deploy without modif tohybrid network virtual andfew physic node follow full deploy network the figur virtual mos sensor node internet seamless connect real mos sensor node preservingcommon api across pcs atmel micro sensor node combin hybrid mode test formmultimod prototyp environ third manti permitsvirtu node leverag api outsid manti api virtual node manti api could realiz asunixwindow applic communic render databas api build visual network manag applic respect this virtual node unix applic would incorpor manti system api assimpl mean becom anoth node within manti network virtual physic node for exampl cortex visual applic connect two api manti api order behav asvirtu sensor node receiv sensor data stream andsecond graphic api order render sensor data this flexibl illustr figur manti achievesmultimod prototyp environ preservingcommonapi across platform this approach resembl wine elimin problem hidden system call sinc call public known manti due wide avail support gnu tool chain multipl platform possibl build mos minor modif applic run platform linux window call user space applic run platform xmos for exampl figur illustr xmos utilizingposix shim layer translat manti uniform api under unix oper system way mos applic realiz virtual sensor node platform well live applic atmel sensor node amo this enabl manti support multimod network consist xmos node amo node seamless interact the samesourc code run transpar xmos amo platform enabl phase deploy xmos amo figur show structur network two network connect viaseri link thus com send system call amo node caus data figur manti xmos architectur use posix shim layer translat under manti embed multithread oper system transmit radio the bridg node either side bridg serial link would addit send data serial link use com send send call xmos node caus data transmit network instead the structur implic multimod prototyp environ afford great flexibl applic develop first xmos node need ident inde heterogen applic support simultan for exampl xmos node written base station other may perform aggreg duti direct diffus still other may coexist perform multicast rout second xmos node confin tosingl distribut across number pcs maintain communic via packet this eas abil prototyp environ scale larg number xmos virtual node third arbitrari number bridg link connect xmos amo environ need limit serial link either fourth virtual node must support limit manti api asresult virtual node realiz asunix applic could integr manti sensor network one side speak withrend api databas api window api socket api anoth side thus sensor network access virtual node eas develop applic visual network manag gateway translat network the gateway function especi critic translat sensor packet data network fifth sinc network stack implement thread common api bonus xmos environ use prototyp function form network rout reliabl function xmos confin prototyp user program final provid hardwar translat correct xmos architectur offer potenti feed real sensor data virtual node drive prototyp evalu varieti sensor network simul possess featur manti multimod prototyp environ tossim issimul tinyo enabl code run simul real sensor node enabl debug verif pcs prior deploy howev simul run one machin applic instanc insid tossf extend tossim enabl heterogen applic still confin one sensorsim extens providessimul framework model sensor node also provideshybrid simul combin real virtual network howev sensor network applic requir target platform result two complet differ code base must maintain emstar isframework develop applic wireless sensor network share mani principl mos system emstar combin pure simul hybrid mode real distribut deploy just mos code reus simul environ real platform whose target includ ipaq crossbow stargat platform just mos posix compat program interfac provid tinyo support emstar framework the manti multimod framework limit choos api across platform rather instruct invirtu machin xmos node perfect model perform ofsensor node our tradeoff improv flexibl rather precis emul also function test architectur while network stack remot shell via command server test well user program function kernel schedul present beyond test capabl xmos dynam reprogram dynam reprogram retask especi use featur sensor network research found sensor node remot reconfigur overwireless network deploy field sinc sensor network may deploy inaccess area may scale thousand node simplifi manag sensor network biologist need field reprogram sensor chang paramet sensor sampl rate trigger threshold algorithm sensor calibr time synchron the goal mos achiev dynam reprogram sever granular reflash entir reprogram ofsingl thread chang variabl within thread anoth featur especi use sensor system abil remot debugrun thread mos providesremot shell enablesus login inspect sensor node memori thread tabl execut thread overcom difficulti reprogram network mos includ two reprogram mode the simpler program mode similar use mani system involv direct communic withspecif manti node onnymph would accomplish via serial port the user simpli connect node topc open manti shell upon reset mos entersboot loader check communic shell point node acceptnew code imag download direct communic line from shell user also abil inspect modifi node memori direct peek poke well spawn thread retriev debug inform includ thread status stack fill statist oper system the boot loader transfer control mos kernel command shell startup shell present the advanc program mode use node alreadi deploy requir direct access node the spectrum dynam reprogram sensor network rang fine grain reprogram modifi constant like sampl rate complet bhatti reprogram sensor node present time mos support remot login chang support dynam reprogram entir progress the dynam reprogram capabl actual implement assystem call librari built mos kernel any applic may writenew code imag call librari code imag store extern storag flash eeprom written the applic callscommit function write outcontrol block mos boot loader caus instal new code reset complet reprogram process use reprogram librari intent manti command downloadpatch use communic method desir typic regular network stack appli patch exist code imag run updat code thus entir code imag except lock boot loader section may reprogram arbitrari network node deploy reflash part one thread isdifficult research challeng address dynam reprogram full imag complet current solut dynam reprogram virtual machin resid under sensor oper system process incom code instruct set use reprogram sensor node reduc amount data transmit network contrast base approach mos allow binari updat reprogram node the develop need learnnew instruct set instead exist deploy applic need modifi recompil thenbinari patch may transmit micro sensor node remot shell cortex applic command server exist solut monitor sensor network consid topolog extract comput summari network properti energi effici monitor sensor network addit mechan user may wish manag node network way provid flexibl mos includ manti command server mcs from devic network equip termin laptop exampl user may invok command server client also refer shell log tonod this node may eitherphys node nymph mica board may bevirtu node run asprocess onpc the mcs implement applic thread listen serial radio command either sent kernel applic the user may view list function support mcs inspect modifi node memori chang configur set run kill program view thread tabl restart node addit user applic regist function call whenspecif command enter shell after function call user applic receiv paramet function this allow user applic remain dormant untilcommand issu the shell ispow debug tool sinc allow user examin modifi state node without requir physic access node the remot shell part ofvisu applic call cortex run onremot laptop figur illustr exampl cortex visual gui render plot sensor data real time maintain multipl slide window histori this applic includ part manti releas the cortex use receiv sensor data also initi command sensor network demo applic click led light led sensor node more advanc command sent via remot shell interfac shown screenshot the cortex applic exampl xmos virtual sensor node more precis server applic act xmos virtual sensor node receiv sensor data packet real sensor network the visual gui connect server this concept connect internet applic part virtual sensor network order receiv data illustr figur manti hardwar the manti hardwar nymph design inspir berkeley mica mote architectur help lower develop cost shorten develop cycl enhanc research goal design manti hardwar nymph sensor node adher theme eas use flexibl adapt sensor network character softwar design the learn curv novic user lower design shown figur altogeth incorporatinglow power atmel microcontrol mcu analog sensor digit port low power chipcon radio eeprom power adc sensor serial port print circuit board pcb for common user design elimin need forsepar sensor board separ program board reduc volum cost the pin serial interfac direct access nymph instandard dip packag enabl direct connect nymph tolaptop viaseri cabl shown figur direct serial access combin dynam reprogram wireless larg elimin need forprogram board common user nymph versatil node serv asbas station asleaf addit three sensor interfac built nymph direct access user via dip pin elimin need sensor board common threewir interfac similar popular lego mindstorm select enablingnovic quick prototyp fromlarg select inexpens resist sensor also gps capabl nymph form ofconnector manti embed multithread oper system figur screenshot cortex visual applic render sensor data part manti releas fit trimbl lassen gps chip shown right nymph figur again goal simplifi deploy applic begin user gps chip need connector simpli vacant final nymph includ option this use prototyp lab avoid excess consumpt batteri adapt radioshack switch toggl option off batteri option envis power option use futur deploy indoor sensor network power outlet readili avail exploit support advanc research nymph includ sever interfac allow expert user extend capabl first nymph exportsstandard size jtag dip interfac expert user need burn bootload atmel flash for exampl research experi dynam reprogram may need reset fuse flash for novic user envis bootload preinstal manufactur expert user access tojtag program devic difficult debug situat jtag interfac also use line line debug use gdb second nymph connector standard dip interfac develop advanc board mate connector this connector direct access mcus extern interrupt bus data line timer puls width modul pwm pin some potenti board would expand use interrupt pin add touch pad exampl the data line may use add liquid crystal display pwm pin may use control motor timer time sensit applic simpli pin general digit third manti nymph support multipl antenna option includ addit antenna amplifi via anoth connector this connector act likejump figur manti nymph micro sensor node bhatti enabl disabl built low power capabl replac circuitri the addon circuitri implementsdb power amplifi chip plus addit support circuitri proper match mhz antenna the addit amplifi increas communic rang manti nymph cost halfwatt addit power consumpt for reason provid connector option notrequir one final import advanc featur addit ofsingl bit adc this adc enabl monitor batteri voltag level power consumpt number nymph given previous work gps found consum signific power requir care power manag limit impact batteri lifetim compar recent hardwar technolog gps capabl includ mote gnome futur work the manti system still muchwork progress low power manag continu bechalleng though sleep schedul larg elimin wast busi wait poll normal thread approach would incorpor dynam hint within applic withpow hint call modifi applicationí requir dynam prior work powereffici schedul system leverag addit complic result integr compon atmel multipl low power mode present mos export set mode api applic yet develop exploit low power featur interest push schedul user space streamlin kernel similar architectur there still work done demonstr reliabl code updat network optim size updat ensur secur authent updat even issu address solv problem reprogrammingsingl node remot while one could certain iter node innetwork order reprogram would ineffici perhap infeas network larg the broader problem remot reprogrammingnetwork oppos tonod address futur work also intend integr secur dynam reprogram download code authent decrypt check tamper present implement cbc mode block cipher librari this librari also provid function send encrypt packet generat messag authent code protect integr packet the api mos sec send data char datalen info mos sec recv pkt info the overhead secur librari small byte ram the encrypt packet transmiss function add delay compar packet transmiss manti matur see sever direct evolv devic interfac for exampl addit timer devic gain abil setread interv read more specif user tri obtain light sampl fromsensor board current abl read one byte attim with addit timer user abl set read interv throughdev ioctl call dev read call call size fill buffer length one byte attim interv oper block provid ideal method fill inradio packet sensor valu period time send full radio packet enough data receiv area yet address simul wireless channel within multimod prototyp environ one challeng difficulti simul wireless communic channel especi indoor communic anoth challeng buildingstructur enabl medium content among multipl virtual node the manti project award nsf sensor grant studi role sensor network fight forest fire stay tune manti web site http conclus the manti sensor system achieveslightweight classic structur multithread oper system inmemori footprint less five hundr byte includ schedul network stack the manti achiev energi effici implementingsleep function its schedul recogn thread sleep sleep microcontrol fordur deduc thread sleep time mos supportssimpleapi enabl crossplatform support reus oflarg instal code base low barrier entri term program sensor network mos also support advanc sensor featur multimod prototyp dynam reprogram remot shell the manti nymph gpsenabl solut also extens refer abrach bhatti carlson dai rose sheth shucker deng han manti system support multimod network sensor acm intern workshop wireless sensor network applic wsna adya howel theimer boloski douceur cooper task manag without manual stack manag proceed usenix atc june manti embed multithread oper system akyildiz sankarasubramaniam cayirci survey sensor network ieee communic magazin august albonesi balasubramonian dropsho dwarkada friedman huang kursun magk scott semeraro bose buyuktosunoglu cook shuster dynam tune processor resourc adapt process ieee comput decemb atmel avr risc processor http avrx multitask kernel atmel avr seri micro control http bookstein klein huffman code dead comput carlson han lao narayan sanghani rapid prototyp mobil input devic use wireless sensor node ieee workshop mobil comput system applic wmcsa case fedor schostal davin rfc simpl network manag protocol snmp rfc ietf may crossbow http crossbow mote http dai han tsync lightweight bidirect time synchron servic wireless sensor network acm sigmobil mobil comput communic review special issu wireless pan sensor network januari deb bhatnagar nath topolog discoveri algorithm sensor network applic network manag dcs technic report rutger univers may deng han mishra perform evalu intrusiontoler rout wireless sensor network ieee intern workshop inform process sensor network ipsn palo alto california elson estrin time synchron wireless sensor network intern parallel distribut process symposium ipdp workshop wireless mobil comput april elson rmer wireless sensor network new regim time synchron proceed first workshop hot topic network princeton new jersey octob elson girod estrin network time synchron use refer broadcast osdi boston decemb elson bien busek bychkovskiy cerpa ganesan girod greenstein schoellhamm stathopoulo estrin emstar environ develop wireless embed system softwar cen technic report march eli savag wetheral alpin infrastructur for network protocol develop proc usenix symposium internet technolog system march engler fran kaashoek tool exokernel oper system architectur resourc manag symposium oper system principl sosp decemb ganeriw kumar adlakha srivastava time synchron sensor network technic report ucla dept electr engin girod elson cerpa stathopoulo ramanathan estrin emstar softwar environ develop deploy wireless sensor network appear proceed usenix grunwald morrey iii levi neufeld farka polici dynam clock schedul oper system design implement hamburgen wallach viredaz brakmo waldspurg bartlett mann farka itsi stretch bound mobil comput ieee comput april hill szewczyk woo hollar culler pister system architectur direct network sensor proceed ninth intern confer architectur support program languag oper system asplo novemb intanagonwiwat govindan estrin direct diffus acm mobicom jerri chu tcp solari proceed usenix annual technic confer san diego california januari juang oki wang martonosi peh rubenstein comput for wildlif track design tradeoff earli experi with zebranet asplo san jose octob kumagi the secret life bird ieee spectrum april labross the kernel edit cmp book novemb lauer needham dualiti oper system structur second intern symposium oper system octob larus park use cohort schedul enhanc server perform technic report microsoft research march levi lee simul tinyo network http levi culler mate virtual machin tini network sensor asplo leopold dydensborg bonnet bluetooth sensor network realiti check acm confer sensor system sensi novemb lefurgi rajamani rawson felter kistler weller energi manag commerci server ieee comput decemb luo jha static schedul distribut real time embed system proc design autom confer acm press mainwar polastr szewczyk culler anderson wireless sensor network habitat monitor first acm workshop wireless sensor network applic wsna martin mikhak silverman metacricket design kit for make comput devic ibm system journal martin mikhak silverman metacricket design kit make comput devic ibm system journal min bhardwaj cho architectur forpowerawar distribut microsensor node ieee workshop signal proc system oct ning implement data compress fft tinyo embed network laboratori comput scienc dept usc los angel http ousterhout why thread arebad idea purpos present given usenix annual technic confer januari park savvid srivastava sensorsim simul framework sensor network proceed mswim boston august perron nicol scalabl simul tinyo applic winter simul confer portabl oper system interfac posix system applic program interfac api languag ieee priyantha chakraborti balakrishnan the cricket system proc sixth annual acm intern confer mobil comput network mobicom august bhatti rivest encrypt algorithm proceed leuven workshop fast softwar encrypt singl chip ultra low power transceiv http data sheet simpl network time protocol sntp version ietf rfc sheth shucker han very lightweight mobil multicast system wireless sensor network ieee wireless communic network confer wcnc new orlean louisiana the project http the eye project http tilak heinzelman taxonomi wireless network model acm sigmobil mobil comput communic review von behren condit brewer why event arebad idea server workshop hot topic oper system hoto welsh fish frantz gnome testb heterogen wireless sensor network ieee intern symposium circuit system isca bangkok thailand wei john heidemann deborah estrin mac protocol wireless sensor network proceed infocom new york usa june wine http zhao govindan estrin comput aggreg monitor wireless sensor network first ieee intern workshop sensor network protocol applic anchorag may shah bhatti student comput scienc univers colorado boulder also work assenior program manag lab imag print group ipg hewlett packard bois idaho particip panelist workshop integr architectur manufactur softwar engin ijcai ics respect hewlett packard file sever patent behalf receiv mscs mba univers colorado msce ntu andbsc wichita state univers his research interest includ power manag oper system design effici model wireless sensor network jame carlson student comput scienc univers colorado boulder receiv bachelor degre hampshir colleg his research support visual center his research interest includ comput graphic visual user interfac hui dai student comput scienc univers colorado boulder receiv univers scienc technolog china receiv comput scienc univers colorado boulder develop manti his research interest includ system design wireless sensor network time synchron distribut system mobil comput jing deng student comput scienc univers colorado boulder receiv univeristi electron scienc technolog china institut comput technolog chines academi scienc publish four paper secur wireless sensor network preparingbook chapter secur privaci fault toler sensor network his research interest includ wireless secur secur network rout secur sensor network jeff rose student comput scienc univers colorado boulder receiv comput scienc univers colorado boulder develop manti oper system his research interest includ rout sensor network anmol sheth student comput scienc univers colorado boulder receiv comput scienc univers pune india his research interest includ mac layer protocol design wireless communic adapt communic mobil brian shucker student comput scienc univers colorado boulder receiv comput scienc univers arizona comput scienc univers colorado boulder decemb develop manti oper system his research interest wireless sensor network includ oper system design communic network robot sensor network charl gruenwald undergradu student comput scienc univers colorado boulder join manti research group fall undergradu research adam torgerson undergradu student comput scienc univers colorado boulder join manti research group fall undergradu research manti embed multithread oper system richard han join depart comput scienc univers colorado boulder august assist professor http rhan han lead manti wireless sensor network research project http serv numer technic program committe confer workshop field wireless sensor network receivedn scienc foundat career award ibm faculti award wasresearch staff member ibm thoma watson research center hawthorn new york receiv electr engin univers california berkeley electr engin distinct stanford univers his research interest includ system design sensor network secur wireless sensor network wireless network user interfac mobil network applic springer sciencebusi media inc manufactur the netherland manti embed multithread oper system wireless micro sensor platform shah bhatti jame carlson hui dai jing deng jeff rose anmol sheth brian shucker charl gruenwald adam torgerson richard han depart comput scienc univers colorado boulder campus box boulder abstract the manti multimod system network wireless sensor providesnew multithread embed oper system wireless sensor network sensor network accommod increas complex task signal process preemptiv multithread manti sensor mos enabl micro sensor node nativ interleav complex task task therebi mitig bound buffer problem achiev memori effici mos implement inlightweight ram footprint fit less byte memori includ kernel schedul network stack achiev energi effici mos schedul sleep microcontrol activ thread call mos sleep function reduc current consumpt mos design featur flexibl form support test across pcs pdas differ micro sensor platform anoth key mos design featur support remot manag sensor via dynam reprogram remot login keyword embed oper system sensor network multithread lightweight low power dynam reprogram introduct the popular wireless sensor network wsns import new research domain grown dramat wsn system typic consist micro sensor node wireless network this sensor network monitor environ collect sens data relay data back tocollect point typic resid internet wsns integr hardwar platform embed oper system network communic backend data servic togeth complet system capabl provid novel distribut sens environment phenomena standard micro sensor system includ berkeley architectur metacricket mit cricket cubould manti system europ eye btnode project this autom consider simplifi program applic develop this paper demonstr complex need support preemptiv easili accommod today mote withkernel memori cost less byte includ schedul network stack moreov paper show multithread energi effici mutual exclus thatmultithread system design sleep effici applic thread indic use work done the fine interleav concurr multithread use sensor system prevent one task block execut ofsecond task sensor correspond author network task perfom increas complex duti signal process collabor target track time synchron local encrypt show later section task enough system prevent timesensit process task process radio packet differ layer network stack network stack block fulli process arriv packet task run complet network stack bound buffer could quick overflow especi sensor node limit ram result lost packet multithread conveni mitig classic bound buffer problem interleav process packet network stack thread execut multipl complex task packet empti buffer overflow reach our discuss focus onloos interpret bound buffer problem term resourc constraint rather tradit interpret field synchron the challeng designingmultithread embed oper system wsns motiv sever resourc constraint impos micro sensor node limit memori well limit energi lifetim the ram avail micro sensor node exceed scarc today mote while sensor node may diversifi toward nano node macro node lesser greater capabl current generat micro sensor node standard start refer assum paper because sever memori constraint tradit multithread embed oper system bhatti qnx vxwork occupi larg ofmemori footprint execut micro sensor node embed linux face limit two embed embed oper system avrx andµco written avr microcontrol found mote both achiev preemptiv multitask inlightweight ram footprint less µcos islicens commerci avrx open sourc the manti open sourc mos differ two embed rtoss adapt addit requir impos sensor network develop schedul reduc energi consumpt implement advanc featur like remot dynam reprogram micro sensor node addit memori effici micro sensor node also requir energi effici design sensor micro sensor node often deploy apart electr power grid therefor reli batteri power energi harvest solar cell givenset new batteri lifetim node extend month depend upon extent duti cycl lower key new challeng design sensor therefor includ achiev lightweight memori footprint well oper this paper describ manti lightweight multithread oper system multimod network micro sensor node present mos kernel abl achiev multithread preemptiv schedul execut standard synchron network protocol stack less byte ram includ individu thread stack size addit manti design provid support across pdas well divers micro sensor hardwar platform for exampl manti current support mote well manti nymph manti also seek provid tool eas deploy manag sensor network order achiev support mos design leverag properti ofport standard program languag case theprogram languag mos enabl applic code execut onvarieti platform rang pda differ micro sensor platform detail earlier work enabl phase deploy applic internetbas environ tophys deploy applic code test first onvirtu sensor node execut pda provid api preserv micro sensor node for exampl mos userlevel network stack permitsnetwork layer rout algorithm test first virtual sensor node onlinux deploy the emstar system also advoc crossplatform support though approach focus tinyo explain later benefit approach mos achiev code reus andlow barrier entri term program sensor network for exampl standard reliabl protocol well asstandard secur algorithm avail ascod port mos also standard program languag standard thread model eas barrier entri program sensor network sinc kernel also written kernel develop leverag skill use applic develop mos also design provid advanc remot manag capabl sensor network toward end goal mos support use yet sophist featur includ dynam reprogram sensor node via wireless remot debug sensor node multimod prototyp virtual deploy sensor node remaind paper section describ mos architectur includ schedul network stack mos achieveslightweight implement section provid discuss differ sensor model program paradigm section describ multithread mos achiev power effici section explain goal mos respect featur section summar manti hardwar nymph section conclud futur work lightweight manti oper system design section describ architectur manti oper system adher toclass layer multithread design shown figur applic thread separ api under preserv api across platform mos enabl support mos consist oflightweight schedul network stack well compon devic driver applic api manti providesconveni environ creat wsn applic figur illustratessimpl yet common figur manti architectur compressesclass multithread layer oper system design byte ram manti embed multithread oper system figur simpl sampl code applic sender use sens forward applic thread avail along complet open sourc manti softwar releas http this simpl applic thread run onmicro sensor node mote readssensor valu analog digit convert adc port toggl led transmit valu sensor ten line code all applic begin start similar main the system proper initi thread network stack anoth applic thread though shown exampl applic thread spawn new thread call thread new applic the program compact requiresfair shallow learn curv forprogramm earli empir experi mos suggest applic develop rapid prototyp new applic environ applic conductor wand prototyp hour applic protocol andport secur standard complet less two night manti providescomprehens set system api system interact forcomplet list inform api pleas refer http for preced sens forward applic exampl api use applic categor network com send com recv com ioct com mode board sensor adc dev write dev read visual feedback led mos led toggl schedul thread new could use the choic ofac languag api simplifi support develop ofmultimod prototyp environ the manti system api preserv across physic sensor node well virtual sensor node run platform asresult samecod develop manti sensor nymph atmel microcontrol compil run pcs littl alter kernel schedul the design mos kernel resembl classic unixstyl schedul the servic provid aresubset posix thread notabl thread schedul semant withinprior level binari mutex count semaphor also support the goal mos kernel design implement familiar servic inmann effici enough resourceconstrain environ ofsensor node the limit resourc onmanti node ram there two logic distinct section ram space global variabl alloc compil time rest ram manag asheap whenthread creat stack space alloc kernel heap the space recov thread exit current implement user encourag dynam alloc heap space although api decis inher limit mos this limit impos limit memori import well plan coher memori manag polici the kernel main global data structur isthread tabl one entri per thread sinc thread tabl alloc static isfix maximum number thread fix level memori overhead the maximum thread count adjust compil time default each thread tabl entri ten byte containscurr stack pointer stack boundari inform base pointer size pointer thread start function thread prioriti level andnext thread pointer use link list note pointer avr microcontrol two byte thread current context includ save regist valu store stack thread suspend this signific context much larger thanthread tabl entri need store thread alloc thus static overhead thread tabl byte the kernel also maintain head tail pointer prioriti level default byte total keep pointer allow fast addit delet improv perform manipul thread list this import manipul frequent alway occur interrupt disabl there alsocurr thread pointer byte interrupt status byte one byte flag the total static overhead schedul thus byte semaphor mos structur declar need applic containlock count byte along head tail list pointer given time alloc thread ismemb exact one list either one readi list orsemaphor list semaphor oper move thread pointer list schedul bhatti cycl readi list locat next thread execut the schedul receivestim interrupt hardwar trigger context switch switch may also trigger system call semaphor oper the timer interrupt one handl hardwar interrupt sent direct associ devic driver upon interrupt devic driver typic postssemaphor order activatewait thread thread handl whatev event caus interrupt there current soft interrupt support mos kernel although design preclud futur the time slice configur current set addit driver thread user thread also idl thread creat kernel startup the idl thread low prioriti run thread block the idl thread inposit implement schedul may detect pattern cpu util adjust kernel paramet conserv energi network stack comm layer wireless network critic correct oper network sensor such communic typic realiz aslay network stack confus thread stack the design manti network stack focus effici use limit memori flexibl conveni the stack implement one userlevel thread shown figur follow design alpin network stack enabl easi experiment network stack user space also enabl prototyp network stack function pcs prior deploy wsns new rout protocol test virtual sensor node linux pcs deploy explain later section the term user space apt appli manipul network stack pcs clear distinct user space kernel space rather mcu sensor node distinct figur the mos communic comm layer left design asynchron radio serial achiev zero copi oper zero poll the devic dev layer right design synchron sensor read differ layer flexibl implement differ thread layer stack implement one thread the tradeoff perform flexibl the stack design minim memori buffer alloc layer the data bodi forpacket common layer withinthread way network stack avoid data copi resembl zero copi approach tinyo smac zero copi socket the stack support layer three network layer rout transport layer applic layer mac protocol support perform communic layer also call comm layer locat insepar lower layer distinct network stack the mos comm layer providesunifi interfac communic devic driver interfac serial usb radio devic the comm layer shown figur the comm layer also manag packet buffer synchron function the network applic thread interact communic devic four function com send com recv com mode com ioctl when com send call send thread network perhap applic thread passespoint topacket buffer calledcombuf the comm layer block send thread pass pointer specifi devic driver while devic driver may implement thread typic implement term state machin this state machin proceed send packet hardwar devic send thread resum state machin reach complet state while send synchron receiv must happen background even whennetwork applic thread current makingcom recv call memori receiv packet thus manag comm layer own number combuf devic driver may request combuf alloc devic oncecombuf obtain devic driver may fill withreceiv packet direct interrupt state machin whenpacket recept complet devic driver call com swap buf exchang full combuf empti one full packet manti embed multithread oper system buffer order comm layer whenthread call com recv block untilful combuf specifi devic avail timepoint combuf return sinc receiv thread possessesbuff alloc comm layer must call com free buf finish buffer advis comm layer buffer may reus the extra call freebuff complex receiv thread allow comm layer provid true servic also comm layer complet comm layer achiev zero poll energi effici besid send receiv function comm layer provid mode ioctl call the mode call use power power devic need the mean ioctl call the mac layer protocol locat within devic driver radio hous comm layer the mac layer respons control aspect network duti cycl wherein radio adapt slept save energi consumpt transmit power control the mac layer flexibl support radio communic channel enabl research mac protocol design secur rang packet size support withmaximum byte earli version mac protocol support random backoff current version mac support tdma star topolog mos support csma near futur adopt augment smac bmac the lower layer network stack includ mac physic layer occupi byte ram total support three communic interfac name radio serial link loopback interfac addit ram buffer must alloc store packet data thus comm buff alloc byte per buffer three byte overhead per buffer current five buffer alloc though plan alloc buffer ram sinc buffer pass direct applic zero copi addit small amount space consum configur paramet radio modul forbroadcast flood rout protocol andsimpl stop wait protocol provid mos default exampl develop protocol network applic layer network layer broadcast flood add addit thirti byte ram the size network stack depend complex protocol user desir implement overal network stack consum less byte ram devic driver manti adopt tradit partit respect devic driver design hardwar the devic layer dev layer shown figur hous driver synchron sensor extern storag etc driver asynchron communic radio serial hous comm layer sever system call dev read dev write dev mode dev ioctl implement devic insimpl devic static tabl use store function pointer devic implement devic layer model devic specifi index tabl rather usingfil descriptor save code size memori usag sinc tabl static lost overhead full each devic function implement andmutex overhead minim after initi devic call dev regist made place devic function pointer call tabl initi mutex associ devic this driver scheme implement eeprom sever assort sensor plan access flash storag forese driver possibl devic easili conform model the dev mode call provid interfac power manag system devic current instat idl user know use devic forperiod time may set idl depend need forsav power consumpt before access devic mode must set back the dev ioctl call isgener function take devicespecif variabl eeprom use function set memori address dev read dev write access hardwar driver written routin fit normal devic model access interfac summari togeth code size kernel schedul network stack occupi less byte ram flash this permit suffici space multipl applic thread execut ram well suffici storag flash storag discuss thread event this section discuss first benefit cost preemptiv multithread sensor system the follow discuss refer figur depict two execut model sensor system approach left andpreempt multithread model right the literatur containsvarieti exampl system well comparison two model paper suggest system achiev high perform system concurr intens applic appropri modif thread packag tinyo isstandard embed sensor network base design philosophi the simplic system tailor sensor task run complet respect task may interrupt event only one stack need one task run context switch tinyo bhatti figur buffer applic avoid buffer overflow inpreempt system interleav thread right consum execut empti buffer system left overflow buffer whenconsum task forc wait task finish produc complex task also assumesmodular program languag nesc extens isstat languag memori usag prealloc besid modular fashion nesc also analyz code handl concurr insid languag instead user level the design tinyo also believ approach abl creat system sinc neither block poll event system unus cpu cycl spent sleep state oppos activ look interest event tinyo provid paradigm meet requir simpl task characterist today sensor node the manti multithread seek providepathway evolv sensor system support increas complex task time meet resourc constraint energi memori typic sensor network multithread offer automat preemption advantag thatsingl segment applic code block execut task this import sensor system sinc block certain task execut network packet process result overflow network buffer task suffici sensor node ram buffer suffici small illustr bound buffer problem appli sensor network figur depict two task namelyproduc andconsum such pair task common typic sharebuff shown produc generat data produc place data bound buffer two task the consum empti buffer whenev haschanc execut consum unabl execut time produc continu add data buffer buffer eventu overflow for sensor network typic consum would benetwork stack need process incom packet rout packet radio intyp sensor network topolog sensor node relay data sever children node topar node closer ultim destin name base station arriv radio packet typic caus interrupt preempt execut task small interrupt handler transfer packet tobuff complet process later time anoth task network stack thus multipl downstream node act produc sensor data whose packet receiv deposit relay node buffer await process relay network stack sensor node call upon perform increas complex task likelihood increas task system block process network stack consum result lost packet due buffer overflow such task could includ aggreg via standard compress algorithm standard standard signal process techniqu though today aggreg typic littl summar multipl sensor valu calcul averag unreason expect aggreg employ sophist yet compress algorithm near futur for exampl portedlightweight compress algorithm use arithmet code mote this compress code execut ram provid atmel chip other research port compress algorithm similar though today sensor node employ scalar valu trigger action rout temperatur degre futur behavior may well trigger simpl frequenc analysi sensor data sensor data hasstrong tone khz thus also portedstandard fft algorithm base integ arithmet fast execut mote other research implementedmuch slower float point fft previous work implement encrypt mica mote present improv implement paper the result execut time summar tabl found thatstandard compress task arithmet code relat arithmet compress sampl data took arithmet decompress sampl took arithmet code chosen compress effici altern would huffman code would sacrific compress forspe improv aboutfactor two also integ fft requir tabl execut time various complex task complex task execut time arithmet code compress arithmet code decompress fft integ fft float point sec encrypt round byte encrypt tabl byte manti embed multithread oper system execut expect ffts requir hundr millisecond run complet low memori mode requir complet encrypt byte data any task suffici run complet iscandid caus buffer overflow lost packet suppos byte ram devot network stack buffer suppos also packet arriv four downstream neighbor rate packet size byte case sensor data arriv atrat complex task take thanfew hundr millisecond run complet bound buffer overflow contrast inmultithread system network stack consum thread given time slice despit presenc thread thus abl process traffic limit loss data address bound buffer problem programm system therefor burden sever difficult task first programm must decompos code suffici small execut modul case arithmet compress correct partit code may requiresemant understand algorithm isstiff requir forprogramm wish port code tomicro sensor platform for exampl decomposit compress code tinyo modul requir detail semant awar second understand code modul suffici small avoid block task depend upon task execut well applic toler neither knownpriori programm the design may forc choos finest granular avoid pitfal the least difficult option port code one monolith modul run risk bound buffer problem third programm must invest signific time make sure relinquish control proper modul for exampl programm must ensur modul avoid poll infinit loop order avoid indefinit block task contrast programm mos alter program practic accommod concern program written without physic partit thread execut though programm free generat multipl thread desir addit sinc isvast bodi code alreadi written thread oper system programm port code mos relat eas without requiringdeep semant understand code also task without explicit ensur program block hinder process support multithread mos come cost context switch overhead addit stack memori thread first claim context switch overhead onlymoder issu wsns each context switch incur microsecond overhead instruct approxim clock cycl sinc regist need reset comparison default time slice much larger this less percent microcontrol cycl sinc wsns larg focus sensor data acquisit packet forward comput perform thread modest slowdown pure comput speed affect primari function micro sensor node the second cost multithread memori alloc thread stack though mitig intellig stack analysi the default thread stack size mos byte sinc ram avail mote kernel occupi less byte consider space left parameter mos support todoubl digit number user thread for earli rene mote byte total ram would infeas fit mos kernel user thread constrain space sinc current futur sensor node like contain least present capac ram mos demonstr suffici memori fulli support multithread applic howev degre multithread remain issu possibl stack overflow insuffici space alloc thread stack overflow mitig issu current develop stack analysi tool accur forecast stack need thread alloc suffici memori avoid stack overflow the program paradigm mos base onstandard program languag this enablesshallow learn curv support code reus while nesc extens addit invest requir understand program use nesc modul over time two type sensor system may well converg coexist futur could envisionsensor system combin best system flexibl well event driven system model providesgener solut synchron code preemption syntax prioriti mechan yet event mani sens applic well analog argument adapt reconfigur microkernel perform monolith kernel result develop modular kernel combin advantag moreov sensor network diversifi micro sensor node may run code communic other execut via multithread aggreg applicationspecif node power manag challeng design system sleep schedul thread need schedul thread either block block reason use work perform section describ manti achiev energi effici viasleep function bhatti design resembl semant unix sleep function takingparamet durat sleep differ behavior applic thread call sleep this sleep function enabl thread system shut meaning work therebi avoid poll typic wireless node last onlyfew day two batteri use continu monitor two batteri milliamper per hour mahr last approxim day power consumpt day the effect techniqu extend lifetim sensor node low duti cycl sleep node time tradit power manag techniqu laptop transit idl activ mode oper approach explor work addit low power method throttl perform ofprocessor turn part ofprocessor well vari voltag embed system pursu work sensor node sleep withlow duti cycl valu duti cycl must determin well period these import paramet control energi effici adapt ifsensor node employ one sensor monitor temperatur per second period simpli set one second howev sensor node capabl monitor one sens domain simultan temperatur relat humid given multimod sens low duti cycl behavior becom complex temperatur sensor monitor everi three second humid monitor everi seven second desiresensor capabl integr stagger offset sleep period moreov desir thatsensor respons chang environment condit within sens zone for exampl run time applic track event may wish chang sampl frequenc period respons sens data motion anim the sensor provid mechan adapt chang sampl frequenc duti cycl applic addit behavior applic aggreg far differ task period temperatur humid sens aggreg applic may wish delay sleep ofsensor node comput complet regardless various sens therefor flexibl enough accommod applic behavior addit datadriven sens applic vari period duti cycl these exampl illustr thatsensor provid mechan enabl divers applic indic often wish sleep order achiev power effici the sensor figur mos provid applic thread withsleep period function thread call sleep shut microcontrol first sleep deadlin expir combin natur emerg schedul timet meet applic need also achiev energi effici the schedul determin safe system sleep addit sensor adapt chang condit applic run time chang sleep time pattern period initi step toward build capabl implementedsleep function shown figur similar unix sleep function first applic thread must enabl mode accomplish call mos enabl power mgt all thread enabl mode though default option turn must explicit activ this chosen maintain compat unix sleep behavior next applic thread may call mos thread sleep period withparamet period specifi durat sleep this chosen mimic behavior unix sleep howev mos add capabl applic thread call sleep system truli sleep time for exampl one applic thread system period wake accord period specifi thread multipl applic thread call sleep specifi differ sleep durat schedul keep track earliest deadlin expir wake system otherwis system sleep tabl list current consum bysens forward applic thread mote run mos differ duti cycl while activ execut applic code mote run sens forward consum howev applic thread slept power consumpt this confirm mos correct sleep microcontrol also abl period wake thread execut code thus mos abl achiev energi effici maintainingthread schedul capabl manti embed multithread oper system tabl power consumpt mos sleep mode awak mode power sleep sens forward awak duti cycl forsec cycl masec duti cycl forsec cycl masec figur illustr mos schedul the readi queue mos schedul consist five prioriti high low kernel sleep high normal idl the schedul select highest prioriti readi task either execut complet put readi queue time slice expir the schedul use multi thread time slice when thread readi execut system sleep automat instead spin duti cycl idl loop the depth sleep vari follow system suspend figur mos schedul system enter atmel moder idl sleep mode otherwis applic thread call sleep system enter deep sleep sleep queue maintain order list thread call sleep order sleep time low high when sleep time thread front queue expir queue shorten sleep time readjust use implement sleep timer allow clock extern khz watch crystal independ intern cpu clock necessari wake processor deep sleep the sleep prioriti readi queue enabl newli woken thread higher prioriti servic first wake mos also achiev energi effici implement comm layer complet there zero poll comm layer advanc featur manti sensor network impos addit uniqu demand design oper system beyond resourc constraint bhatti sensor network applic develop need abl prototyp test applic prior distribut physic deploy field also deploy sensor node need capabl dynam reprogram remot debug next section manti identifi implement three key advanc featur expert user sensor system bridg internet sensor network multimod prototyp the manti prototyp environ providesframework prototyp divers applic bridg applic internet deploy sensor network key requir sensor system need provid prototyp environ test sensor network applic prior deploy postpon test applic deploy acrossdistribut sensor network incur sever consequ asresult prototyp environ especi help tool sensor network applic develop the manti prototyp environ extend beyond simul providelarg framework develop network manag visual applic virtual node withinmanti sensor network first manti desir properti enabl applic develop test execut samecod virtual sensor node later physic sensor node second manti seamless integr virtual environ real deploy network virtual physic node coexist communic prototyp environ shown figur seamless integr enabl phase deploy test applic applic code could first evalu network deploy without modif tohybrid network virtual andfew physic node follow full deploy network the figur virtual mos sensor node internet seamless connect real mos sensor node preservingcommon api across pcs atmel micro sensor node combin hybrid mode test formmultimod prototyp environ third manti permitsvirtu node leverag api outsid manti api virtual node manti api could realiz asunixwindow applic communic render databas api build visual network manag applic respect this virtual node unix applic would incorpor manti system api assimpl mean becom anoth node within manti network virtual physic node for exampl cortex visual applic connect two api manti api order behav asvirtu sensor node receiv sensor data stream andsecond graphic api order render sensor data this flexibl illustr figur manti achievesmultimod prototyp environ preservingcommonapi across platform this approach resembl wine elimin problem hidden system call sinc call public known manti due wide avail support gnu tool chain multipl platform possibl build mos minor modif applic run platform linux window call user space applic run platform xmos for exampl figur illustr xmos utilizingposix shim layer translat manti uniform api under unix oper system way mos applic realiz virtual sensor node platform well live applic atmel sensor node amo this enabl manti support multimod network consist xmos node amo node seamless interact the samesourc code run transpar xmos amo platform enabl phase deploy xmos amo figur show structur network two network connect viaseri link thus com send system call amo node caus data figur manti xmos architectur use posix shim layer translat under manti embed multithread oper system transmit radio the bridg node either side bridg serial link would addit send data serial link use com send send call xmos node caus data transmit network instead the structur implic multimod prototyp environ afford great flexibl applic develop first xmos node need ident inde heterogen applic support simultan for exampl xmos node written base station other may perform aggreg duti direct diffus still other may coexist perform multicast rout second xmos node confin tosingl distribut across number pcs maintain communic via packet this eas abil prototyp environ scale larg number xmos virtual node third arbitrari number bridg link connect xmos amo environ need limit serial link either fourth virtual node must support limit manti api asresult virtual node realiz asunix applic could integr manti sensor network one side speak withrend api databas api window api socket api anoth side thus sensor network access virtual node eas develop applic visual network manag gateway translat network the gateway function especi critic translat sensor packet data network fifth sinc network stack implement thread common api bonus xmos environ use prototyp function form network rout reliabl function xmos confin prototyp user program final provid hardwar translat correct xmos architectur offer potenti feed real sensor data virtual node drive prototyp evalu varieti sensor network simul possess featur manti multimod prototyp environ tossim issimul tinyo enabl code run simul real sensor node enabl debug verif pcs prior deploy howev simul run one machin applic instanc insid tossf extend tossim enabl heterogen applic still confin one sensorsim extens providessimul framework model sensor node also provideshybrid simul combin real virtual network howev sensor network applic requir target platform result two complet differ code base must maintain emstar isframework develop applic wireless sensor network share mani principl mos system emstar combin pure simul hybrid mode real distribut deploy just mos code reus simul environ real platform whose target includ ipaq crossbow stargat platform just mos posix compat program interfac provid tinyo support emstar framework the manti multimod framework limit choos api across platform rather instruct invirtu machin xmos node perfect model perform ofsensor node our tradeoff improv flexibl rather precis emul also function test architectur while network stack remot shell via command server test well user program function kernel schedul present beyond test capabl xmos dynam reprogram dynam reprogram retask especi use featur sensor network research found sensor node remot reconfigur overwireless network deploy field sinc sensor network may deploy inaccess area may scale thousand node simplifi manag sensor network biologist need field reprogram sensor chang paramet sensor sampl rate trigger threshold algorithm sensor calibr time synchron the goal mos achiev dynam reprogram sever granular reflash entir reprogram ofsingl thread chang variabl within thread anoth featur especi use sensor system abil remot debugrun thread mos providesremot shell enablesus login inspect sensor node memori thread tabl execut thread overcom difficulti reprogram network mos includ two reprogram mode the simpler program mode similar use mani system involv direct communic withspecif manti node onnymph would accomplish via serial port the user simpli connect node topc open manti shell upon reset mos entersboot loader check communic shell point node acceptnew code imag download direct communic line from shell user also abil inspect modifi node memori direct peek poke well spawn thread retriev debug inform includ thread status stack fill statist oper system the boot loader transfer control mos kernel command shell startup shell present the advanc program mode use node alreadi deploy requir direct access node the spectrum dynam reprogram sensor network rang fine grain reprogram modifi constant like sampl rate complet bhatti reprogram sensor node present time mos support remot login chang support dynam reprogram entir progress the dynam reprogram capabl actual implement assystem call librari built mos kernel any applic may writenew code imag call librari code imag store extern storag flash eeprom written the applic callscommit function write outcontrol block mos boot loader caus instal new code reset complet reprogram process use reprogram librari intent manti command downloadpatch use communic method desir typic regular network stack appli patch exist code imag run updat code thus entir code imag except lock boot loader section may reprogram arbitrari network node deploy reflash part one thread isdifficult research challeng address dynam reprogram full imag complet current solut dynam reprogram virtual machin resid under sensor oper system process incom code instruct set use reprogram sensor node reduc amount data transmit network contrast base approach mos allow binari updat reprogram node the develop need learnnew instruct set instead exist deploy applic need modifi recompil thenbinari patch may transmit micro sensor node remot shell cortex applic command server exist solut monitor sensor network consid topolog extract comput summari network properti energi effici monitor sensor network addit mechan user may wish manag node network way provid flexibl mos includ manti command server mcs from devic network equip termin laptop exampl user may invok command server client also refer shell log tonod this node may eitherphys node nymph mica board may bevirtu node run asprocess onpc the mcs implement applic thread listen serial radio command either sent kernel applic the user may view list function support mcs inspect modifi node memori chang configur set run kill program view thread tabl restart node addit user applic regist function call whenspecif command enter shell after function call user applic receiv paramet function this allow user applic remain dormant untilcommand issu the shell ispow debug tool sinc allow user examin modifi state node without requir physic access node the remot shell part ofvisu applic call cortex run onremot laptop figur illustr exampl cortex visual gui render plot sensor data real time maintain multipl slide window histori this applic includ part manti releas the cortex use receiv sensor data also initi command sensor network demo applic click led light led sensor node more advanc command sent via remot shell interfac shown screenshot the cortex applic exampl xmos virtual sensor node more precis server applic act xmos virtual sensor node receiv sensor data packet real sensor network the visual gui connect server this concept connect internet applic part virtual sensor network order receiv data illustr figur manti hardwar the manti hardwar nymph design inspir berkeley mica mote architectur help lower develop cost shorten develop cycl enhanc research goal design manti hardwar nymph sensor node adher theme eas use flexibl adapt sensor network character softwar design the learn curv novic user lower design shown figur altogeth incorporatinglow power atmel microcontrol mcu analog sensor digit port low power chipcon radio eeprom power adc sensor serial port print circuit board pcb for common user design elimin need forsepar sensor board separ program board reduc volum cost the pin serial interfac direct access nymph instandard dip packag enabl direct connect nymph tolaptop viaseri cabl shown figur direct serial access combin dynam reprogram wireless larg elimin need forprogram board common user nymph versatil node serv asbas station asleaf addit three sensor interfac built nymph direct access user via dip pin elimin need sensor board common threewir interfac similar popular lego mindstorm select enablingnovic quick prototyp fromlarg select inexpens resist sensor also gps capabl nymph form ofconnector manti embed multithread oper system figur screenshot cortex visual applic render sensor data part manti releas fit trimbl lassen gps chip shown right nymph figur again goal simplifi deploy applic begin user gps chip need connector simpli vacant final nymph includ option this use prototyp lab avoid excess consumpt batteri adapt radioshack switch toggl option off batteri option envis power option use futur deploy indoor sensor network power outlet readili avail exploit support advanc research nymph includ sever interfac allow expert user extend capabl first nymph exportsstandard size jtag dip interfac expert user need burn bootload atmel flash for exampl research experi dynam reprogram may need reset fuse flash for novic user envis bootload preinstal manufactur expert user access tojtag program devic difficult debug situat jtag interfac also use line line debug use gdb second nymph connector standard dip interfac develop advanc board mate connector this connector direct access mcus extern interrupt bus data line timer puls width modul pwm pin some potenti board would expand use interrupt pin add touch pad exampl the data line may use add liquid crystal display pwm pin may use control motor timer time sensit applic simpli pin general digit third manti nymph support multipl antenna option includ addit antenna amplifi via anoth connector this connector act likejump figur manti nymph micro sensor node bhatti enabl disabl built low power capabl replac circuitri the addon circuitri implementsdb power amplifi chip plus addit support circuitri proper match mhz antenna the addit amplifi increas communic rang manti nymph cost halfwatt addit power consumpt for reason provid connector option notrequir one final import advanc featur addit ofsingl bit adc this adc enabl monitor batteri voltag level power consumpt number nymph given previous work gps found consum signific power requir care power manag limit impact batteri lifetim compar recent hardwar technolog gps capabl includ mote gnome futur work the manti system still muchwork progress low power manag continu bechalleng though sleep schedul larg elimin wast busi wait poll normal thread approach would incorpor dynam hint within applic withpow hint call modifi applicationí requir dynam prior work powereffici schedul system leverag addit complic result integr compon atmel multipl low power mode present mos export set mode api applic yet develop exploit low power featur interest push schedul user space streamlin kernel similar architectur there still work done demonstr reliabl code updat network optim size updat ensur secur authent updat even issu address solv problem reprogrammingsingl node remot while one could certain iter node innetwork order reprogram would ineffici perhap infeas network larg the broader problem remot reprogrammingnetwork oppos tonod address futur work also intend integr secur dynam reprogram download code authent decrypt check tamper present implement cbc mode block cipher librari this librari also provid function send encrypt packet generat messag authent code protect integr packet the api mos sec send data char datalen info mos sec recv pkt info the overhead secur librari small byte ram the encrypt packet transmiss function add delay compar packet transmiss manti matur see sever direct evolv devic interfac for exampl addit timer devic gain abil setread interv read more specif user tri obtain light sampl fromsensor board current abl read one byte attim with addit timer user abl set read interv throughdev ioctl call dev read call call size fill buffer length one byte attim interv oper block provid ideal method fill inradio packet sensor valu period time send full radio packet enough data receiv area yet address simul wireless channel within multimod prototyp environ one challeng difficulti simul wireless communic channel especi indoor communic anoth challeng buildingstructur enabl medium content among multipl virtual node the manti project award nsf sensor grant studi role sensor network fight forest fire stay tune manti web site http conclus the manti sensor system achieveslightweight classic structur multithread oper system inmemori footprint less five hundr byte includ schedul network stack the manti achiev energi effici implementingsleep function its schedul recogn thread sleep sleep microcontrol fordur deduc thread sleep time mos supportssimpleapi enabl crossplatform support reus oflarg instal code base low barrier entri term program sensor network mos also support advanc sensor featur multimod prototyp dynam reprogram remot shell the manti nymph gpsenabl solut also extens refer abrach bhatti carlson dai rose sheth shucker deng han manti system support multimod network sensor acm intern workshop wireless sensor network applic wsna adya howel theimer boloski douceur cooper task manag without manual stack manag proceed usenix atc june manti embed multithread oper system akyildiz sankarasubramaniam cayirci survey sensor network ieee communic magazin august albonesi balasubramonian dropsho dwarkada friedman huang kursun magk scott semeraro bose buyuktosunoglu cook shuster dynam tune processor resourc adapt process ieee comput decemb atmel avr risc processor http avrx multitask kernel atmel avr seri micro control http bookstein klein huffman code dead comput carlson han lao narayan sanghani rapid prototyp mobil input devic use wireless sensor node ieee workshop mobil comput system applic wmcsa case fedor schostal davin rfc simpl network manag protocol snmp rfc ietf may crossbow http crossbow mote http dai han tsync lightweight bidirect time synchron servic wireless sensor network acm sigmobil mobil comput communic review special issu wireless pan sensor network januari deb bhatnagar nath topolog discoveri algorithm sensor network applic network manag dcs technic report rutger univers may deng han mishra perform evalu intrusiontoler rout wireless sensor network ieee intern workshop inform process sensor network ipsn palo alto california elson estrin time synchron wireless sensor network intern parallel distribut process symposium ipdp workshop wireless mobil comput april elson rmer wireless sensor network new regim time synchron proceed first workshop hot topic network princeton new jersey octob elson girod estrin network time synchron use refer broadcast osdi boston decemb elson bien busek bychkovskiy cerpa ganesan girod greenstein schoellhamm stathopoulo estrin emstar environ develop wireless embed system softwar cen technic report march eli savag wetheral alpin infrastructur for network protocol develop proc usenix symposium internet technolog system march engler fran kaashoek tool exokernel oper system architectur resourc manag symposium oper system principl sosp decemb ganeriw kumar adlakha srivastava time synchron sensor network technic report ucla dept electr engin girod elson cerpa stathopoulo ramanathan estrin emstar softwar environ develop deploy wireless sensor network appear proceed usenix grunwald morrey iii levi neufeld farka polici dynam clock schedul oper system design implement hamburgen wallach viredaz brakmo waldspurg bartlett mann farka itsi stretch bound mobil comput ieee comput april hill szewczyk woo hollar culler pister system architectur direct network sensor proceed ninth intern confer architectur support program languag oper system asplo novemb intanagonwiwat govindan estrin direct diffus acm mobicom jerri chu tcp solari proceed usenix annual technic confer san diego california januari juang oki wang martonosi peh rubenstein comput for wildlif track design tradeoff earli experi with zebranet asplo san jose octob kumagi the secret life bird ieee spectrum april labross the kernel edit cmp book novemb lauer needham dualiti oper system structur second intern symposium oper system octob larus park use cohort schedul enhanc server perform technic report microsoft research march levi lee simul tinyo network http levi culler mate virtual machin tini network sensor asplo leopold dydensborg bonnet bluetooth sensor network realiti check acm confer sensor system sensi novemb lefurgi rajamani rawson felter kistler weller energi manag commerci server ieee comput decemb luo jha static schedul distribut real time embed system proc design autom confer acm press mainwar polastr szewczyk culler anderson wireless sensor network habitat monitor first acm workshop wireless sensor network applic wsna martin mikhak silverman metacricket design kit for make comput devic ibm system journal martin mikhak silverman metacricket design kit make comput devic ibm system journal min bhardwaj cho architectur forpowerawar distribut microsensor node ieee workshop signal proc system oct ning implement data compress fft tinyo embed network laboratori comput scienc dept usc los angel http ousterhout why thread arebad idea purpos present given usenix annual technic confer januari park savvid srivastava sensorsim simul framework sensor network proceed mswim boston august perron nicol scalabl simul tinyo applic winter simul confer portabl oper system interfac posix system applic program interfac api languag ieee priyantha chakraborti balakrishnan the cricket system proc sixth annual acm intern confer mobil comput network mobicom august bhatti rivest encrypt algorithm proceed leuven workshop fast softwar encrypt singl chip ultra low power transceiv http data sheet simpl network time protocol sntp version ietf rfc sheth shucker han very lightweight mobil multicast system wireless sensor network ieee wireless communic network confer wcnc new orlean louisiana the project http the eye project http tilak heinzelman taxonomi wireless network model acm sigmobil mobil comput communic review von behren condit brewer why event arebad idea server workshop hot topic oper system hoto welsh fish frantz gnome testb heterogen wireless sensor network ieee intern symposium circuit system isca bangkok thailand wei john heidemann deborah estrin mac protocol wireless sensor network proceed infocom new york usa june wine http zhao govindan estrin comput aggreg monitor wireless sensor network first ieee intern workshop sensor network protocol applic anchorag may shah bhatti student comput scienc univers colorado boulder also work assenior program manag lab imag print group ipg hewlett packard bois idaho particip panelist workshop integr architectur manufactur softwar engin ijcai ics respect hewlett packard file sever patent behalf receiv mscs mba univers colorado msce ntu andbsc wichita state univers his research interest includ power manag oper system design effici model wireless sensor network jame carlson student comput scienc univers colorado boulder receiv bachelor degre hampshir colleg his research support visual center his research interest includ comput graphic visual user interfac hui dai student comput scienc univers colorado boulder receiv univers scienc technolog china receiv comput scienc univers colorado boulder develop manti his research interest includ system design wireless sensor network time synchron distribut system mobil comput jing deng student comput scienc univers colorado boulder receiv univeristi electron scienc technolog china institut comput technolog chines academi scienc publish four paper secur wireless sensor network preparingbook chapter secur privaci fault toler sensor network his research interest includ wireless secur secur network rout secur sensor network jeff rose student comput scienc univers colorado boulder receiv comput scienc univers colorado boulder develop manti oper system his research interest includ rout sensor network anmol sheth student comput scienc univers colorado boulder receiv comput scienc univers pune india his research interest includ mac layer protocol design wireless communic adapt communic mobil brian shucker student comput scienc univers colorado boulder receiv comput scienc univers arizona comput scienc univers colorado boulder decemb develop manti oper system his research interest wireless sensor network includ oper system design communic network robot sensor network charl gruenwald undergradu student comput scienc univers colorado boulder join manti research group fall undergradu research adam torgerson undergradu student comput scienc univers colorado boulder join manti research group fall undergradu research manti embed multithread oper system richard han join depart comput scienc univers colorado boulder august assist professor http rhan han lead manti wireless sensor network research project http serv numer technic program committe confer workshop field wireless sensor network receivedn scienc foundat career award ibm faculti award wasresearch staff member ibm thoma watson research center hawthorn new york receiv electr engin univers california berkeley electr engin distinct stanford univers his research interest includ system design sensor network secur wireless sensor network wireless network user interfac ieee wireless communicationsdecemb this work part support center support swiss nation scienc foundat grant wireless sensor network introduct april author organizedworkshop fund european scienc foundat esf withview carri coordin research wireless sensor network europ expert european countri includ academ research repres industri invit discuss applic area particular relev europ well various aspect hardwar softwar architectur requir support applic some concret question discuss workshop which prospect applic domain concret applic particular valu europ what requir challeng involv implement applic what hardwar requir need support applic are exist system suffici theregap need addit research develop what type softwar need oper system program abstract tool support applic requir met how better coordin most isol disconnect research activ sensor network across europ during discuss observ wireless sensor network found way intowid varieti applic system vast vari requir characterist henc difficult discuss specif applic requir research direct challeng past number earli most research project establish facto definit ofwireless sensor network hoc multihop unpartit network larg homogen tini most immobil sensor node would random deploy area interest while character certain valid forlarg class applic particular militari domain increas number sensor network applic adequ character way asresult observ suggest sensor network design space various dimens character such explicit design space might prove help asframework discuss structur coordin research analyz mutual depend applic softwar hardwar avoid duplic work might also provideconceptu basi develop flexibl softwar framework adapt meet differ applic need this articl isparti answer question rais workshop attempt specifi import dimens sensor network design space justifi find show exist sensor network applic occupi differ point design space build earlier work classifi system model sensor network respect communic protocol consid divers natur concret applic design space initi research wireless sensor network main motiv militari applic defens advanc research project agenc darpa continu fundnumb promin research project smart dust nest common regard cradl sensor network research the type applic consid project led tode facto kay rÖmer and friedemann mattern eth zurich abstract recent past wireless sensor network found way intowid varieti applic system vast vari requir characterist asconsequ becom increas difficult discuss typic requir regard hardwar issu softwar support this particular problemat multidisciplinari research area wireless sensor network close collabor user applic domain expert hardwar design softwar develop need implement effici system articl discuss consequ fact regard design space wireless sensor network consid various dimens justifi view demonstr specif exist applic occupi differ point design space the design space wireless sensor network recent past wireless sensor network found way wide varieti applic system vast vari requir characterist asconsequ becom increas difficult discuss typic requir regard hardwar issu softwar support ieee wireless communicationsdecemb definit ofwireless sensor network thousand node cover larg geograph area wireless hoc multihop unpartit network homogen tini hard notic most immobil deploy sensor node would random deploy area interest more recent civilian applic domain wireless sensor network consid environment speci monitor agricultur product deliveri healthcar concret project target applic area indic definit ofwireless sensor network necessarili appli applic network may consist heterogen mobil sensor node network topolog may simpl asstar topolog network may make use exist communic infrastructur meet general trend toward diversif discuss import dimens sensor network design space follow subsect inform character dimens appropri identifi possibl orthogon properti class order classif sensor network applic certain debat issu import enough explicit consid dimens design space one could argu favor dimens remov suggest detail fact expect might becom reason futur field applic evolv howev tri ensur initi suggest consist sensibl set dimens base choic two principl first notabl variabl applic respect dimens second dimens signific impact design implement technic solut deploy the deploy sensor node physic environ may take sever form node may deploy random drop aircraft instal deliber chosen spot deploy may activ instal use ofsensor network strict separ activ howev deploy may also becontinu process node deploy time use network exampl replac fail node improv coverag certain interest locat the actual type deploy affect import properti expect node densiti node locat regular pattern node locat expect degre network dynam class random manual iter mobil sensor node may chang locat initi deploy mobil result environment influenc wind water sensor node may attach carri mobil entiti sensor node may possess automot capabl word mobil may either incident side effect ordesir properti system move node interest physic locat case mobil may either activ automot passiv attach tomov object control sensor node mobil may appli node withinnetwork subset node the degre mobil may also vari occasion movement long period immobl constant travel mobil haslarg impact expect degre network dynam henc influenc design network protocol distribut algorithm the actual speed movement may also impact exampl amount time node stay within communic rang class immobil part occasion continu activ passiv cost size resourc and energi depend actual need applic form factor ofsingl sensor node may vari size ofshoebox weather station tomicroscop small particl militari applic sensor node almost invis similar cost ofsingl devic may vari hundr euro network power node tofew cent largescal network made simpl node sinc sensor node unteth autonom devic energi resourc limit size cost constraint vari size cost constraint direct result correspond vari limit energi avail size cost energi densiti batteri devic energi scaveng well comput storag communic resourc henc energi resourc avail onsensor node may also vari great system system power may either store batteri scaveng environ solar cell these resourc constraint limit complex softwar execut sensor node for classif partit sensor node rough four class base physic size brick matchbox grain dust heterogen earli sensor network vision anticip sensor network would typic consist homogen devic most ident hardwar softwar point view some project amorph comput even assum sensor node indistinguish even possess uniqu address within hardwar this view base observ otherwis would feasibl cheapli produc vast quantiti sensor node howev mani prototyp system avail today sensor network consist ofvarieti differ devic node may differ type number attach sensor comput power comput node may collect process rout sensori data mani limit sens node sensor node may equip special hardwar global posit system gps receiv act these resourc constraint limit complex softwar execut sensor node for classif partit sensor node rough four class base physic size brick matchbox grain dust ieee wireless communicationsdecemb beacon node infer locat node may act gateway data communic network gsm network satellit network internet the degre heterogen insensor network import factor sinc affect complex softwar execut sensor node manag whole system class homogen heterogen communic modal for wireless communic among sensor node number communic modal use radio diffus light laser induct capacit coupl even sound perhap common modal radio wave sinc requirefre line sight communic medium rang implement relat low power consumpt relat small antenna centimet common frequenc band use light beam communic requiresfre line sight may interfer ambient light daylight allow much smaller transceiv radio communic smart dust exampl use laser beam communic induct capacit coupl work small distanc may use powersensor node most passiv radio frequenc identif rfid system use induct coupl exampl sound ultrasound typic use communic water measur distanc base measur sometim multipl modal use bysingl sensor network system the communic modal use obvious influenc design medium access communic protocol also affect properti relev applic class radio light induct capacit sound infrastructur the various communic modal use differ way construct actual communic network two common form network one hand hoc network hand network sensor node direct communic base station devic communic sensor node relay via base station multipl base station abl communic the number base station depend communic rang area cover sensor node mobil phone network smart dust exampl type network hoc network node direct communic without infrastructur node may act router forward messag multipl hop behalf node sinc deploy infrastructur cost process instal infrastructur may often feasibl hoc network prefer mani applic howev infrastructur alreadi avail anyway gsm network might also use certain sensor network applic combin hoc infrastructurebas network sometim use cluster sensor node interconnect wide area network note argument appli communic also infrastructur local time synchron gps satellit class infrastructur hoc network topolog one import properti ofsensor network diamet maximum number hop two node network simplest form sensor network network everi sensor node abl direct communic everi node network withsingl base station formsstar network withdiamet network may form arbitrari graph often overlay network withsimpl structur construct astre orset connect star the topolog affect mani network characterist latenc robust capac the complex data rout process also depend topolog class star network star tree graph coverag the effect rang sensor attach sensor node defin coverag area ofsensor node network coverag measur degre coverag area interest sensor node with spars coverag part area interest cover sensor node with dens coverag area interest complet almost complet cover sensor with redund coverag multipl sensor cover physic locat the actual degre coverag main determin observ accuraci redund requir coverag may vari across network for exampl node may deploy dens interest physic locat the degre coverag also influenc inform process algorithm high coverag key robust system may exploit extend network lifetim switch redund node sleep mode class spars dens redund connect the communic rang physic locat individu sensor node defin connect ofnetwork alway network connect possibl multipl hop two node network said connect connect intermitt network may occasion partit node isol time enter communic rang node occasion say communic sporad note despit exist partit messag may transport across partit mobil node connect main influenc design communic protocol method data gather class connect intermitt sporad simplest form sensor network network everi sensor node abl direct communic everi node ieee wireless communicationsdecemb network size the number node particip insensor network main determin requir relat network connect coverag size area interest the network size may vari fromfew node thousand sensor node even the network size determin scalabl requir regard protocol algorithm lifetim depend applic requir lifetim ofsensor network may rang hour sever year the necessari lifetim hashigh impact requir degre energi effici robust node other qos requir depend applic sensor network must support certain qos aspect constraint physic event must report withincertain period time robust network remain oper even certain well defin failur occur network remain oper even subject deliber attack eavesdrop resist extern entiti eavesdrop data traffic unobtrus stealth presenc network must hard detect these requir may impact dimens design space coverag resourc applic section justifi design space model locatingnumb applic differ point design space for select concret applic well document advanc beyondmer vision some applic list field experi commerci product advanc research project use sensor network tool for classif use report paramet actual use practic set deliber refrain specul els could done note usual differ technic solut forsingl applic mean concret project describ exampl drawn fromwhol set possibl solut howev exampl reflect technic possibl desir time project set therefor decid base discuss concret exampl rather specul inher characterist ofcertain type applic tabl classifi sampl applic accord dimens design space describ previous section bird observ great duck island wireless sensor network wsn use observ breed behavior ofsmal bird call leach storm petrel great duck island main unit state these bird easili disturb presenc human wsn seem appropri way better understand behavior the breed season last seven month april octob biologist interest usag pattern nest burrow chang environment condit outsid insid burrow breed season variat among breed site paramet prefer breed site sensor node instal insid burrow surfac node measur humid pressur temperatur ambient light level burrow node equip infrar sensor detect presenc bird the burrow occur cluster sensor node form multihop hoc network each network cluster containssensor node direct antenna connect cluster tocentr base station comput the base station comput connect todatabas backend system viasatellit link sensor node sampl sensor onceminut send read direct databas backend system zebranet wsn use observ behavior wild anim withinspaci habitat wild hors zebra lion mpala research center kenya particular interest behavior individu anim activ pattern graze fast move interact withinspeci interact among differ speci group behavior group structur impact human develop speci the observ period schedul lastyear the observ area may larg hundr even thousand squar kilomet anim equip sensor node integr gps receiv use obtain estim posit speed movement light sensor use give indic current environ further sensor head bodi temperatur ambient temperatur plan futur each node log read sensor everi min whenev node enter communic rang anoth node sensor read ident sensor node exchang data flood across network partit regular interv mobil base station car plane move observ area collect record data anim pass glacier monitor sensor network use monitor subglaci environ briksdalsbreen norway overal goal better understand earth climat particular interest displac dynam insid observ period month year requir sensor node deploy drill hole differ depth glacier ice till beneath glacier sensor node equip pressur temperatur sensor andtilt sensor measur orient node sensor node communic withbas station deploy top glacier the base station measur displac use differenti gps transmit data collect via gsm node recover deploy radio communic ice water ismajor problem depend applic requir lifetim sensor network may rang hour sever year the necessari lifetim hashigh impact requir degre energi effici robust node ieee wireless communicationsdecemb cattl herd wsn use implement virtual fenc acoust stimulus given anim crossvirtu fenc line movement data cow control virtual fenc algorithm dynam shift fenc line suchsystem reduc overhead instal move physic fenc improv usag feedlot for first experi sensor node consist ofpda withgp receiv wireless lan wlan card andloudspeak provid acoust stimuli cattl approachf these devic attach neck cow the node formmultihop hoc network forward movement data tobas station laptop comput the base station transmit fenc coordin node bathymetri sensor network use monitor impact surround environ wind farm coast england particular interest influenc structur ocean bed format sand bank tidal activ sensor node deploy ocean bed drop fromship select posit locat fix ocean bed anchor each sensor node connect via cabl tobuoy ocean surfac contain radio equip gps sinc radio communic water virtual imposs the sensor node abl measur pressur temperatur conduct current turbid hoc network deploy mobil resourc cost energi heterogen modal great duck manual immobil matchbox usd batteri solar weather station radio burrow node gateway zebranet manual all continu matchboxbatteri node gateway radio passiv glacier manual all continu brickbatteri node radio passiv base station herd manual all continu brick usd batteri homogen radio passiv bathymetri manual all occasion brickbatteri homogen radio passiv ocean random iter all continu brick usd batteri homogen radio passiv grape manual immobil matchbox usd batteri sensor gateway radio base station cold chain manual iter part sensor matchboxbatteri sensor relay radio occasion sensor access box passiv brick relay warehous avalanch manual all continu matchboxbatteri homogen radio passiv vital sign manual all continu matchboxbatteri medic sensor radio light passiv patient identifi setup pen display devic setup pen power manual iter immobil matchboxpow grid sensor node radio sensor transceiv unidirect central unit assembl manual all occasion matchbox euro batteri differ sensor radio passiv track random thrown all occasion matchboxusd batteri homogen radio aircraft passiv mine manual all occasion brickbatteri homogen radio activ ultrasound local sniper manual immobil matchbox usd batteri homogen radio fpga tabl classif sampl applic accord design space continu next page ieee wireless communicationsdecemb ocean water monitor the argo project usingsensor network observ temperatur salin current profil upper ocean the goal quantit descript state upper ocean pattern ocean climat variabl includ heat freshwat storag transport intend coverag global observ plan last sever year measur data avail almost real time the project use profil sensor node equip temperatur salin sensor the node drop ship plane the node cycl todepth everi day data collect cycl transmit tosatellit node surfac the lifetim node four five year grape monitor wsn use monitor condit influenc plant growth temperatur soil moistur light humid acrosslarg vineyard oregon unit state the goal includ support precis harvest harvest area soon grape ripe precis plant care adapt suppli need individu plant frost protect predict develop develop new agricultur model infirst version system sensor node tabl classif sampl applic accord design space continu previous page infrastructur topolog coverag connect size lifetim qos great duck base station star cluster dens everi connect month gateway burrow breed deploy period zebranet base station gps graph dens everi sporad one year anim glacier base station star spars connect sever month gps gsm deploy herd base station gps graph dens everi intermitt hundr day week cow deploy bathymetri gps graph spars connect hundr sever monthskm apart deploy plan ocean satellit star spars intermitt deploy yearsplan grape base station tree spars hundr sever month multihop apart deploy growth period cold chain relay access tree spars intermitt hundr year box sensor relay deploy avalanch rescuer pda star dens everi connect day durat depend person number ofhik victim vital sign hoc dens connect ten day month hospit stay depend eavesdrop resist power transceiv layer spars connect year build multihop select lifecycl outlet assembl hoc star spars connect ten hour durat assembl track uav graph spars intermitt stealth tamper uav deploy conflict resist durat mine hoc graph dens connect hundr tamper deploy resist sniper hoc graph redund connect hundr multipl deploy node recogn shot ieee wireless communicationsdecemb deploy acrossvineyard inregular grid sensor connect sensor node viacabl order minim fals sensor read due heat dissemin sensor comput connect sensor network viagateway display log temperatur distribut across vineyard the sensor node multihop network node second tier send data tonod first tier node first tier also collect sensor data addit act data router cold chain manag the commerci securifood system wsn monitor temperatur complianc cold chain product via distribut center store consum client receiv earli warn possibl break cold chain the system consist four major compon sensor node relay unit access box andwarehous sensor node transport product collect temperatur data relay unit collect store temperatur data sensor node power devic withperman power suppli multipl relay unit formmultihop hoc network access box even power embed linux devic act asgateway network relay unit internet there one access box per product site data warehous act ascentr server collect data access box the data warehous provid onlin imag sensor data system act ascentr data repositori applic rescu avalanch victim wsn use assist rescu team save peopl buri avalanch the goal better locat buri peopl limit overal damag give rescu team addit indic state victim autom priorit victim base heart rate respir activ level conscious for purpos peopl risk skier snowboard hiker carrysensor node equip oximet sensor measur oxygen level blood permit heart rate respir activ measur addit oxygen sensor use detect air pocket around victim acceleromet use deriv orient victim the rescu team usespda receiv sensori data buri victim vital sign monitor wireless sensor use monitor vital sign patient inhospit environ compar convent approach solut base wireless sensor intend improv monitor accuraci also conveni patient the system consist four compon patient identifi medic sensor display devic andsetup pen the patient identifi isspeci sensor node contain patient data name attach patient enter hospit various medic sensor electrocardiogram may subsequ attach patient patient data vital sign may inspect usingdisplay devic the setup pen carri medic personnel establish remov associ various devic the pen emitsuniqu via infrar limit scope tosingl patient devic receiv formbodi area network power monitor wsn use monitor power consumpt larg dispers offic build the goal detect locat devic consuminglot power provid indic potenti reduct power consumpt the system consist three major compon sensor node transceiv andcentr unit sensor node connect power grid outlet fuse box measur power consumpt power suppli sensor node direct transmit sensor read transceiv the transceiv formmultihop network forward messag central unit the central unit act asgateway internet forward sensor data todatabas system part assembl wsn use assist peopl assembl complex composit object furnitur this save user studi understand complex instruct manual prevent make mistak the furnitur part tool equip sensor node these node equip withvarieti differ sensor forc sensor joint gyroscop screwdriv acceleromet hammer the sensor node form hoc network detect certain action sequenc thereof give visual feedback user via led integr furnitur part track militari vehicl wsn use track path militari vehicl tank the sensor network unnotic difficult destroy track result report within given deadlin sensor node deploy unman aerial vehicl uav magnetomet sensor attach node order detect proxim tank node collabor estim path veloc oftrack vehicl track result transmit uav mine field landmin equip sens communic capabl ensur thatparticular area remain cover even enemi tamper withmin creat potenti breach lane tamper detect mine network intact mine hop breach usingrocket thruster the mine formmultihop hoc network monitor radio link qualiti detect fail mine node also estim locat orient use ultrason rang whennod failur detect one mine select reloc use one eight rocket thruster sniper local wsn use locat sniper trajectori bullet provid valuabl clue law enforc the system consist the commerci securifood system iswsn monitor temperatur complianc cold chain product via distribut center store consum client receiv earli warn possibl break cold chain ieee wireless communicationsdecemb sensor node measur muzzl blast shockwav use acoust sensor the sensor node formmultihop hoc network compar time arriv distribut sensor node sniper local accuraci withlat the sensor node usefield programm gate array fpga chip carri complex signal process function conclus there sever import consequ design space discuss clear singl hardwar platform like suffici support wide rang possibl applic order avoid develop hardwar would desir howev avail small set platform differ capabl cover design approach individu compon ofsensor node easili exchang might help partial overcom difficulti principl tool select suitabl hardwar compon particular applic would also desir far softwar concern situat becom even complex hardwar one could tri cover design space larger set differ protocol algorithm basic servic howev system develop would still face complex design space sinc applic would potenti requir use softwar differ interfac properti convent distribut system middlewar introduc hide complex softwar develop provid program abstract applic larg class applic this rais question whether appropri abstract middlewar concept devis applic forlarg portion sensor network design space this easi task sinc design space dimens network connect hard hide system develop moreov expos certain applic characterist system vice versa iskey approach achiev energi resourc effici sensor network even provis abstract layer conceptu possibl would often introduc signific resourc overhead problemat high sensor network workshop mention possibl direct discuss provid general abstract despit difficulti one approach definit common servic interfac independ actual implement the interfac would howev contain method expos applic characterist system vice versa differ point design space would requir differ implement softwar architectur would need togeth tool would select implement best fit applic hardwar requir one possibl approach provis ofminim fix core function would dynam extend appropri softwar modul acknowledg somewhat specul howev research softwar support wsns still earli stage signific advanc requir approach goal easi consist programm test deploy applic across design space addit technic issu design space advoc hope bring clariti often somewhat diffus discuss typic right characterist requir wireless sensor network refer esf exploratori workshop wireless sensor network http tilak heinzelman taxonomi wireless network model vol apr abelson amorph comput cacm vol mar kahn katz pister emerg challeng mobil network smart dust commun network vol mainwar wireless sensor network habitat monitor wsna atlanta juang comput wildlif track design tradeoff earli experi zebranet proc asplo san jose martinez glacsweb sensor web glacier adjunct proc ewsn berlin germani butler network cow virtual fenc control cow wame boston june marshal sensor network ubinet london argoglob ocean sensor network http beckwith teibel bowen pervas comput proactiv agricultur adjunct proc pervas vienna austria apr cold chain manag use ultra low power wireless sensor network wame boston usa june michahell appli wearabl sensor avalanch rescu comput graphic vol baldus klabund muesch reliabl setup medic network proc ewsn berlin germani kappler riegel simpl wireless sensor network monitor electr energi consumpt proc ewsn berlin germani antifako michahell schiel proactiv instruct furnitur assembl proc ubicomp gothenburg sweden the palm experi track vehicl sensor network merial collabor network requir unattend ground sensor system proc ieee aerospac mar simon ledezczi maroti sensor countersnip system proc sensi baltimor biographi kay rÖmer roemer receiv master degre honor univers germani sinc beenresearch assist student eth zurich switzerland his research interest encompass sensor network softwar infrastructur ubiquit comput middlewar distribut system friedemann mattern mattern beenful professor comput scienc eth zurich sinc isfound member institut pervas comput head comput scienc depart distribut system group his research interest includ distribut system ubiquit comput receiv univers kaiserslautern serv professor comput scienc univers saarbrucken darmstadt univers research softwar support wsns still earli stage signific advanc requir approach goal easi consist programm test deploy applic across design space ieee intern frequenc control symposium wireless passiv saw sensor system for industri and domest applic scholl schmidt ostertag reindl scherr wolff siemen corpor research develop munich germani introduct sensor system uniqu featur realiz combin radar techniqu wireless passiv surfac acoust wave saw sensor compar convent telemetri system main featur larg readout distanc sever meter saw sensor requirebatteri power suppli anoth advantag saw sensor fabric high stabl singl crystal therefor near tiee age wireless passiv saw sensor advantag place move rotat part hazard environ contamin area plant they also use contactless measur process chamber concret extrem heat strong radioact radiat use convent sensor imposs danger expens saw sensor also employ increas comfort safeti home person switch saw base secur system electromagnet wave emit radar unit fig receiv antenna saw sensor the interdigit transduc idt connect antenna transform receiv signal intosurfac acoust wave saw the saw propag piezoelectr crystal partial reflect reflector place acoust path the reflect wave reconvert electromagnet puls train idt retransmit radar unit the highfrequ electromagnet signal amplifi downconvert baseband frequenc modul radar unit the sensor signal analyz adigit signal processor final measur result transfer toperson comput post process data storag the veloc ofsaw approxim factor smaller veloc light radio signal therefor signal delay effici onsmal delay requireschip length path length idt reflecor isus twice depend substrat materi wherea pradio signal propag free space therefor puls respons saw sensor time delay sever microsecond antonna sawchip figur schemat draw saw sensor system separ easili environment echo typic fade away less reflector arrang inpredefm bit pattern likebar code identif system realiz areadout distanc sever meter usingstandard code bit reflector possibl distinguish four billion object anim peopl the reflect acoust port idt depend termin imped electr port therefor saw binari sensor achiev switch electr port ofreflect element short open circuit state exampl given first inphys chemic quantiti generatesvari propag properti saw this effect use wireless passiv saw temperatur pressur torqu sensor discuss follow section also present sever industri applic start munich subway demonstr use saw sensor diagnosi control electr motor the possibl read saw sensor larg distanc make ideal candid applic isol problem avoid report first saw base monitor system surg arrest show latest result offield test carri ear nuclear power plant brunsbiittel germani final discuss possibl applic field privat home electron system domest area extrem cost sensit for radar unit investig differ system unit base fmcw concept present eee binari saw sensor saw temperatur sensor element connect toreflect element ofbinari saw sensor here idt play role ofreflector sensor acceler beyond reed element figur binari saw sensor switchabl reflector specif valu magnet move caus reed contact chang open circuit state short circuit state vice versa upper diagram fig reflector reflect lower diagram third reflector short reed element chang approxim reflect time figur time domain respons ofbinari saw sensor switchabl reflector observ sensor type use indic check switch posit general radio access switch manner also classic sensor withvari imped read wireless combin withsaw transpond chang environment temperatur result variat path length andvari saw veloc thus propag time chang accord tcd repres fust order temperatur coeffici delay high coupl yzlithiumniob substrat temperatur coeffici delay ppm thermal expans coeffici one order smaller compar temperatur coeffici veloc special cut quartz like variat path length compens variat saw veloc first order therefor quartz substrat tradit use mechan sensor temperatur sensor temperatur sensor four reflector andcent frequenc mhz mount instandard smd packag shown fig the time domain respons equival temperatur sensor mhz depict fig the readout distanc approxim the delay time the sensor puls separ respect the reflector design high reflect achievesmal return loss therefor puls follow four main respons peak due multipl reflect reflector reflector idt suppress order elimin influenc radio channel sensor signal evalu differ time delay phase sensor figur saw temperatur sensor reflector mount insmd packag cpsl figur measur time domain respons saw reflect delay line puls chip refer with time length first last reflector measur temperatur coeffici delay phase resolut radar unit temperatur resolut achiev cours withsuffici signal nois ratio temperatur vari phase shift greater thatphas ambigu occur this mean one interest measur relat temperatur chang also determin absolut temperatur valu minimum three reflector need sensor oper overbroad temperatur rang even three reflector favor the exact number reflector determin desir temperatur resolut temperatur rang phase resolut radar unit our temperatur sensor successhlli test temperatur fluid nitrogen sever hundr approxim standard packag technolog use above special adhes solder materi print circuit board must employ aluminum electrod withstand temperatur between semiconductor devic irrevers damag linbo substrat stabl sever day for temperatur measur investig differ electrod substrat materi figur schemat draw ofsaw pressur sensor the diaphragm attach quartz coverpl this quartz packag sensor expect minim thermal stress thereforesmal temperatur sensit for pressur sensor whichdur sever year requir also appli glass frit technolog alreadi describ determin geometri sensor use finit element method fem program sinc difficult comput mechan anisotrop materi analyt calcul bend diaphragm fig cover plate well stress distribut fig from calcul assumpt quartz break atstrain approxim determin size diaphragm depth fig seen compress stretch section exist the phase veloc saw slower stretch section wherea faster compress section the reflect delay line requir least reflector for optim reflector configur two ideal posit transit stretch compress section because pressur sensor use astest devic divid delay path instead reflector get detail fig saw pressur sensor schemat draw ofsaw pressur sensor shown fig the saw propag onquartz diaphragm bend hydrostat pressur bend diaphragm indefin manner beconst side diaphragm this figur fem analysi membran realiz byhermet close caviti deform break atpressur refer pressur insid therefor unit kpa the dark frame repres adhes structur intoquartz cover plate area membran cover plate substrat materi diaphragm loution figur calcul strain diaphragm pressur kpa posit interdigit transduc reflector compar measur calcul phase differ puls reflect adjac reflector achievedveri good agreement except boundari membran due mechan deform caus join quartz plate saw pressur sensor exampl also use pressur measur tire switch station figur comparison phase differ acp reflect puls atpressur kpa measur result calcul result saw torqu sensor contactless slip ring free torqu measur carri passiv saw torqu sensor without need break drive shaft saw torqu measur system also oper industri environ strong electromagnet interfer due high oper frequenc sever hundr mhz approxim ghz inher broadband natur saw sensor this proven torqu measur inkw motor well identif system railway applic interfer parasit radiat invert could observ figur surfac deform caus torqu act onshaft anoth advantag saw sensor offer greater readout distanc compar convent power magnet coupl system saw sensor measur like resist strain gaug torqu indirect detect strain stress distribut generat torqu act shaft fig the fact strain opposit sign direct relat shaft axi use temperatur compens investig quartz linbo substrat materi linbo hasmuch higher electromechan coupl coeffici lower propag loss quartz wherea quartz substrat temperatur coeffici delay vanish first order anisotropi extens caus temperatur variat smaller linbo exhibit better electr paramet quartz better mechan paramet applic experi mount two sensor element cohunon hous withrel angular displac addit also made sensor element two three overlap saw path orient differ direct onsingl chip the sensor test hollow shaft heat cool circul water torqu generat appli weight crank rigid mount shaft followingtyp design rule steel shaft nomin torqu definit causesshear stress shaft surfac the result strain direct shaft axi nomin torqu experi test shaft haddiamet nomin torqu valu approxim exert bykg weight lever arm the packag sensor attach shaft use two annular clamp other method bond saw crystal planar facet shaft may allow effici strain transmiss sensor howev unsuit sensor applic motor machineri inproduct environ abl show even temperatur sensit linbo temperatur coeffici exceed desir sensor effect one ordersimultan measur torqu temperatur possibl determin characterist sensor cover torqu nomin valu figur phase differ torqu measur temperatur rang extend ftom fiom respect fig the torqu respons clear depend temperatur decis howev unambigu relat measur phase differ torqu temperatur the deviat respons function fiom linear small consequ third order polynomi fit torqu temperatur match measur characterist fig accuraci sensor system industri applic intellig sensor system playvit role power generat power transmiss distribut larges plant construct product transport autom drive help reduc wast labor energi cost protect expens equip extend equip life optim process effici they also providepredict capabl avoid unschedul downtim allow mainten demand that saw sensor system improv control monitor diagnosi system demonstr follow section saw identifk system readout procedur last afew microsecond therefor interrog per second carri this permit reliabl identif particular fast move object the first identif system siemen ship identif tag instal toll station oslo expressway vehicl identifi remot without stop our latest sofi optim railway applic sofi oper ghz readout distanc the maximum veloc train pass the identif tag data bit among place system also instal munich purpos account subway car whichsaw identif tag attach seen fig saw tag make easi identifi vehicl contain workpiec peopl anim also exampl use presenc detect theft protect figur saw tag antenna mount onsubway car motor diagnosi control saw sensor system also advantag use measur vibrat rotor temperatur torqu electr motor success test saw sensor insmal asynchron motor well machin fig temperatur sensor mount ring rotor thekw motor the saw sensor read awir loop antenna mount bear plate the motor load brake during oper load motor warm expect when figur temperatur behavior rotor ofkw asynchron motor oper time figur chang measur torqu step excit nomin valu invert saw sensor refer sensor motor stand still temperatur curv show exponenti decay the cross mark temperatur measur withrefer thermomet because thermal contact refer thermomet saw devic ident isslight differ measur temperatur valu fig show behavior torqu afterstep excit nomin valu invert because test stand invert control torqu increas relat slowli time the solid line show measur result saw system wherea dash curv repres measur valu ofrefer shaft torqu sensor connect drive load machin monitor system surg arrest the benefit saw sensor system power transmiss distribut system recogn follow exampl decemb last year siemen cooper preussenelektra start field test withsaw temperatur monitor system surg arrest near nuclear power plant brunsblittel germani surg arrest use protect equip excess overvoltag arrest built two stack unit seen insid porcelain insul mani metal oxid varistor pile fig some varistor substitut aluminum hous withsaw sensor insid the slot wall hous serv sensor antenna each porcelain hous arrest unit equip one saw temperatur sensor posit approxim center varistor saw sensor mount outsid insul intermedi flang arrest indic fig the antenna radar unit frontend modul attach figur surg arrest inpreussenelektra substat equip withsaw temperatur monitor system overhang beam arrest base the frontend connect signal process part radar unit bycoaxi cabl laid ground the measur data remot access byradio modem connect radar unit the main featur saw temperatur measur system thatposs long term temperatur increas age sudden temperatur rise event counter energi absorb discharg current energi monitor arrest lifetim easili detect the energi monitor avail applic far base fact existssimpl correl moslot mtenna hous aluminium hous slot sensor chip figur saw temperatur sensor instack varistor mloo time figur temperatur unit ofhighvoltag surg arrest ambient temperatur measur bysaw monitor system overtim period approxim month temperatur rise absorb energi fig temperatur curv taken approxim month seen sinc begin field test system reliabl oper without failur other possibl applic temperatur measur transmiss line monitor gas densiti gasinsul transmiss line control contact posit circuit breaker saw sensor system privat home temperatur monitor hot plate refriger heat system saw temperatur sensor inspit binari saw radio sensor theft protect emerg system control window door shade simpli passiv remot control system applic see privat home because applic extrem industri applic studi differ system architectur realizelowcost radar unit fig block diagram ofradar unit base onfmcw architectur mhz depict the advantag architectur fast electron compon need compar puls puls compress radar the dsp control modul signal quartz stabil direct digit synthes dds generatinglinear frequenc sweep mhz this digit signal convert analog one serv refer loop pll oper mhz the signal filter amplifi transmit antenna the transmit puls hastim length much longer time distanc two adjac reflector saw sensor the signal receiv saw sensor first amplifi correl transmit signal result signal sensor inform given frequenc domain elimin environment echo signal frst filter digit inbit finallyfast fourier transform carri evalu time phase differ reflect puls saw sensor figur radar unit domest applic conclus discuss principl wireless sens passiv saw devic investig binari saw sensor saw radio sensor measur temperatur pressur torqu identif system munich subway saw sensor system diagnosi control electr motor andtemperatur monitor system highvoltag surg arrest applic present radar unit domest applic describ acknowledg the author would like thank bulst continu encourag thank bienert berek zottl quick saw devic fabric riek join saw pressur sensor also thank partner busi unit support work refer seifert bulst ruppel mechan sensor base sufrac acoust wave sensor actuat vol bao burkhard varadan varadan saw temperatur sensor remot read system proceed ieee ultrason symposium homstein bom fischerau riha surfac acoust wave sensor applic proceed ieee frequenc control symposium parker calleram montress new all quartz packag saw devic proceed ieee frequenc control symposium versatil low power media access wireless sensor network joseph polastr comput scienc depart univers california berkeley berkeley polastr jason hill jlh lab camino capistrano capistrano beach jhill david culler comput scienc depart univers california berkeley berkeley culler abstract propos carrier sens media access protocol wireless sensor network providesflex interfac obtain ultra low power oper effect collis avoid high channel util achiev low power oper employ adapt preambl sampl scheme reduc duti cycl minim idl listen support reconfigur provid bidirect interfac system servic optim perform whether throughput latenc power conserv build analyt model ofclass sensor network applic use model show effect chang paramet predict behavior sensor network applic compar convent inspir protocol specif develop experiment character overwid rang network condit show flexibl result better packet deliveri rate throughput latenc energi consumpt deployingr world monitor applic multihop network valid protocol design model our result illustr need flexibl protocol effect realiz energi effici sensor network applic categori subject descriptor network network protocol oper system communic manag general term perform design measur experiment keyword wireless sensor network media access protocol energi cient oper reconfigur protocol network communic interfac permiss make digit hard copi part work person classroom use grant without fee provid copi made distribut profit commerci advantag copi bear notic full citat first page copi otherwis republish post server redistribut list requir prior specif permiss sensi novemb baltimor maryland usa copyright acm introduct wireless sensor network deploy reliabl report data consum least amount power ultim goal one applic drive design low power media access control mac protocol environment monitor mainwar ucla center embed network sens deploy wireless sensor microclim monitor oper low duti cycl multihop network reliabl data report they show mac mechan must support duti cycl effici transfer various workload adapt chang network condit these workload includ period data report bulk log transfer wireless reprogrammingnod paper discuss design ofmac protocol motiv monitor applic node inwireless sensor network exist isol rather embed environ caus network link unpredict surround environ chang node must adjust oper maintain connect for exampl perform may hinder bysudden rain storm open close door inbuild woo zhao studi volatil link qualiti wireless sensor network zhao show exist gray area node exceed success recept neighbor node receiv less packet show gray area rather total communic rang woo independ verifi zhao gray area find designingreli multihop rout protocol woo show effect estim link qualiti essenti snoop fic broadcast medium crucial extract inform surround topolog snoop network protocol prevent cycl notifi neighbor node unreach rout improv collis avoid provid link qualiti inform sinc data must ultim report network media access protocol must flexibl meet chang network protocol demand not network condit differ applic wireless sensor network differ demand design tradit wireless network intanagonwiwat show inappropri low duti cycl sensor network data deliveri idl listen consum much energi protocol idl receiv data idl listen occur whennod activ meaning activ channel result wast energi activ absolut crucial mac protocol supportduti cycl mechan elimin idl listen for wireless sensor network gain accept scientif communiti data must flow network predict reliabl scientist determin sampl period physic deploy node the role network ensur data deliv rule achiev predict oper reduc complex much possibl applic servic sinc node executessingl applic import optim communic perform forgener set user meet requir wireless sensor network deploy monitor applic translat toset goal media access protocol our goal formac protocol wireless sensor network applic low power oper effect collis avoid simpl implement small code ram size effici channel util low high data rate reconfigur network protocol toler chang condit scalabl larg number node meet goal propos configur mac protocol wireless sensor network simpl design implement hassmal core factor higher layer function factor function expos control higher servic allow mac protocol supportwid varieti sensor network workload this minimalist model mac protocol design contrast classic monolith mac protocol optim forgener set workload howev paper show effect ofsmal configur mac protocol support low duti cycl applic the contribut paper design ofversatil mac protocol sensor network propos adapt bidirect interfac wireless sensor network applic the interfac allow middlewar servic reconfigur mac protocol base current workload buildmodel applic perform may use reconfigur maximizenod lifetim usecomprehens set microbenchmark experiment character wireless sensor network wsn perform valid model built environment monitor applic show perform match model predict our model use identifi best paramet arbitrari low power wireless sensor network applic compil run time estim applic lifetim illustr import reconfigur simpl optim extend network lifetim relat work most mac protocol wireless sensor network base convent wireless protocol especi these protocol typic providegener purpos mechan work reason well forlarg set traffic workload the previous effort serv build block designingmac protocol meet goal the darpa packet radio network prnet one first multihop wireless network prnet two media access aloha carrier sens multipl access much standard mac protocol includ random delay forward delay link qualiti estim low duti cycl node first execut prnet csma valid asway effici use major channel bandwidth duti cycl node tdma slot aloha solut prnet ultim dismiss due inabl scale woo culler illustr effect chang mac protocol base workload they show sensor network applic scenario network traffic characterist differ signific convent comput network typic data sent period short packet achiev fair energi effici transmiss throughmultihop network design adapt rate control protocol optim data report multihop network exist mac protocol simpli suitabl due failur effici support sensor network workload low duti cycl condit hill culler demonstrateform preambl sampl reduc idl listen cost hill wakeup scheme analog baseband radio sampl energi everi second quick evalu channel energi reduc duti cycl radio demonstr use low power wakeup node multihop network the ask radio use hill allow brief radio sampl developrel techniqu work complex radio publish concurr hill work aloha preambl sampl presentslow power techniqu similar use page system let receiv sleep time channel idl node period wake check activ channel channel idl receiv goe back sleep otherwis receiv stay continu listen packet receiv packet sent long preambl match channel check period createsmodel aloha preambl sampl present effect delay due long preambl propos use long preambl initi synchron node afterward node transmit receiv onschedul normal size packet wisemac iter aloha preambl sampl specif design infrastructur wireless sensor network the main contribut wisemac evalu power consumpt wisemac low traffic load they show delay wisemac preambl sampl lower power consumpt psm use wisemac meet mani goal except mechan reconfigur base chang demand servic use protocol islow power scheme wireless sensor network inspir pama period sleep wake listen channel return sleep each activ period fix size withvari sleep period the length sleep period dictat duti cycl begin activ period node exchang synchron inform follow sync period data may transfer remaind activ period use infollow paper author add adapt overhearsneighbor rts cts packet wake forshort period time end neighbor transmiss immedi transmit data chang duti cycl trade energi latenc use fragment deliv piec messag fragment use scheme reserv channel transmit packet inburst although achiev low power oper meet goal simpl implement scalabl toler chang network condit size network increas must maintain increas number schedul surround node incur addit overhead interfac maccontrol command enablecca command disablecca command enableack command disableack command halttx interfac macbackoff event initialbackoff msg event congestionbackoff msg interfac lowpowerlisten command setlisteningmod mode command getlisteningmod command settransmitmod mode command gettransmitmod command setpreamblelength byte command getpreamblelength command setcheckinterv command getcheckinterv figur interfac flexibl control higher layer servic these tinyo interfac allow servic toggl cca acknowledg set backoff onper messag basi chang lpl mode transmit receiv repeat round resynchron improv energi usag usingveri short listen window begin activ period after sync section activ period isshort window send receiv rts cts packet activ occur period node return sleep chang protocol adapt duti cycl save power atcost reduc throughput addit latenc variabl workload use one fifth power homogen workload tmac perform equal well suffer complex scale problem shorten activ window reduc abil snoop surround traffic adapt chang network condit mani protocol evalu simul not must protocol perform well simul must also integr well implement wireless sensor network applic each protocol describ section provid solut meetsubset goal motiv monitor applic wireless sensor network build upon idea previous publish work createreconfigur protocol meet goal section design and implement achiev goal outlin section designedcsma protocol wireless sensor network call berkeley media access control low power wireless sensor network although motiv need monitor applic flexibl protocol allow allow servic applic realiz effici these servic includ limit target track local trigger event report multihop rout classic mac protocol perform channel access arbitr tune good perform overset workload thought repres domain exampl wireless sensor network protocol design usingclass approach provid mechan channel sig hre old time utlier figur clear channel assess cca effect typic wireless channel the top graph istrac receiv signal strength indic rssi transceiv packet arriv the middl graph show output ofthreshold cca algorithm indic channel clear indic busi the bottom graph show output outlier detect algorithm bitrat hidden termin avoid synchron neighbor low power oper messag fragment effici transfer bulk data onlylink protocol also network organ protocol applic servic must reli intern polici adjust oper node network condit chang chang opaqu applic contrast protocol contain small core media access function use clear channel assess cca packet backoff channel arbitr link layer acknowledg reliabl low power listen lpl low power communic onlylink protocol network servic like organ synchron rout built implement although neither provid mechan like hidden termin support messag fragment enforcesparticular low power polici hasset interfac allow servic tune oper shown figur addit standard messag these interfac allow network servic adjust bmac mechan includ cca acknowledg backoff lpl exposingset configur mechan protocol built make local polici decis optim power consumpt latenc throughput fair reliabl for effect collis avoid mac protocol must abl accur determin channel clear refer clear channel assess cca sinc ambient nois chang depend environ employ softwar automat gain control estim nois floor signal strength sampl taken time channel assum immedi transmittingpacket data path radio stack receiv valid data sampl enter intofifo queue the median queue exponenti weight move averag decay the median standard interfac messag transmiss tinyo baresendmsg transmiss receivemsg recept radiocoordin time stamp start frame delimit sfd time curr ent sleep init radio radio crystal startup adc sleep figur when turn radio node must perform sequenc oper the node first start sleep state wake ontim interrupt the node initi radio configur commenc radio startup phase the startup phase wait radio crystal oscil stabil upon stabil radio enter receiv mode after receiv mode switch time radio enter receiv mode andsampl receiv signal energi may begin after adc start acquisit radio turn adc valu analyz with lpl activ channel node return sleep use assimpl low pass filter add robust nois floor estim anvalu fifo queue size provid best result fortyp wireless channel oncegood estim nois floor establish request transmit packet start process monitor receiv signal method use invarieti protocol includ takessingl sampl compar nois floor this threshold method produc result withlarg number fals negat lower effect channel bandwidth sinc nois signific varianc channel energi wherea packet recept fair constant channel energi shown figur search outlier receiv signal channel energi signific nois floor outlier exist channel sampl period declar channel clear sincevalid packet could never outlier signific nois floor five sampl taken outlier found channel busi the effect outlier detect compar threshold ontrac transceiv shown figur the basic mechan allow servic turn cca use maccontrol interfac figur disabl cca schedul protocol may implement cca enabl use initi channel backoff send packet set backoff time instead event signal servic sent packet via macbackoff interfac the servic may either return initi backoff time ignor event ignor small random backoff use after initi backoff cca outlier algorithm run channel clear event signal servic forcongest backoff time backoff time given againsmal random backoff use enabl disabl cca configur backoff allow servic chang fair avail throughput provid option acknowledg support acknowledg enabl immedi transfer acknowledg code receivingunicast packet transmit node receiv acknowledg acknowledg bit set sender transmiss messag buffer duti cycl radio period channel sampl call low power listen lpl our techniqu similar preambl sampl aloha tailor differ radio characterist each time node wake turn radio check activ activ detect node power stay awak time requir receiv incom packet after recept node return sleep packet receiv fals posit timeout forc node back sleep accur channel assess cca critic achiev low power oper method use nois floor estim findingclear channel transmiss also determin channel activ lpl fals posit cca algorithm caus threshold sever affect duti cycl lpl due increas idl listen reliabl receiv data preambl length match interv channel check activ channel check everi preambl must least long fornod wake detect activ channel receiv preambl receiv messag idl listen occur node wake sampl channel activ the interv lpl sampl maxim time spent sampl channel minim the check interv preambl length exampl paramet expos bmac lowpowerlisten interfac figur transmit mode correspond preambl length listen mode correspond check interv provideselect differ mode correspond check interv protocol may also set preambl length check interv interfac the effect vari preambl size check interv discuss detail section exampl servic use lpl interfac given subsect section trace power consumpt sampl channel mote shown figur the process figur appli essenti mac protocol sensor network perform initi configur radio start radio oscil switch radio receiv mode perform action protocol asresult cost power radio protocol the differ protocol long radio start mani time radio start sensor network node typic runssingl applic sinc ram rom avail sensor node extrem limit keep size mac implement small import reduc complex protocol reduc state likelihood race condit implement tinyo evalu efficaci meet goal sinc bmac mechan synchron requir implement simpler smaller shown tabl hinder effici implement network protocol implement scheme andmessag fragment servic use control interfac equival function fragment servic test perform implement tinyo cvs repositori march protocol rom ram ack lpl lplack tabl comparison size byte both protocol implement tinyo concept and tradeoff section describeframework analyz oper ofwireless sensor network applic build analyt model monitor applic the model allow calcul set paramet optim applic overal power consumpt use model illustr effect differ applic variabl includ duti cycl network densiti sampl rate show interfac may use network servic adapt current demand model lifetim calcul node duti cycl lifetim examineperiod sens applic stream sensor data base station tabl list primit oper perform low power monitor applic observ cost transceiv these oper describerepres class radio wireless sensor network radio similar properti manufactur chipcon infineon motorola use notat valu tabl throughout remaind paper the node lifetim determin overal energi consumpt lifetim maxim energi consumpt must minim all energi defin unit millijoul per second milliwatt calcul total energi usag done multiplyingbi node lifetim for wireless sensor network applic energi use bynod consist energi consum receiv transmit listen messag radio channel sampl data sleep eerxetxelistenedesleep sensor integr part wireless sensor network must consid calculatingnod lifetim sampl sensor often expens affect lifetim node the sampl paramet shown tabl base applic deploy mainwar applic node take start sensor sampl collect data the data sampl everi five minut the energi associ sampl data tdtdatar edtdcdatav the energi consum transmit etx simpli length packet preambl time rate packet generat applic ttxr lpreamblelpacket ttxb etxttxctxbv forperiod applic withuniform sampl rate node detect receiv data itsneighbor transmit oper time initi radio trinit crinit turn radio tron cron switch time sampl radio tsr csr evalu radio sampl tev cev receiv byte trxb crxb transmit byte ttxb ctxb sampl sensor tdata cdata tabl time current consumpt complet primit oper ofmonitor applic use mote transceiv identifi oper map back activ acquiringradio sampl figur notat paramet default csleep sleep current cbatt capac batteri mah voltag lpreambl preambl length byte lpacket packet length byte radio sampl interv neighborhood size node sampl rate expect lifetim tabl paramet formonitor applic run bmac the first three paramet specif mote next three default valu paramet remain paramet applic semant affect perform each paramet affect node total energi consumpt packet regardless packet destin refer densiti neighbor surroundingnod neighborhood size node although receiv data neighbor shorten node lifetim allow servic snoop channel make decis base channel activ bound total time node spend receiv calcul upper bound energi consum receiv erx trxnr lpreamblelpacket trxb erxtrxcrxbv our analysi base onsingl cell analyzemultihop applic need account rout traffic node due children neighbor children instead packet per second flow throughparticular node traffic node must also includ packet rout node neighbor the function children defin multihop rout protocol children point model independ mac protocol use the mac protocol respons minim idl listen time tlisten idl listen occur whenev sampl channel activ activ neighborhood size channel activ check interv figur contour node lifetim year base lpl check time network densiti paramet known intersect expect lifetim use optim bmac paramet order reliabl receiv packet lpl check interv must less time preambl therefor constraint givencheck interv associ preambl length calcul time spent sampl channel from figur power consumpt ofsingl lpl radio sampl the total energi spent listen channel energi ofsingl channel sampl time channel sampl frequenc tlisten elistenesampleti final node must sleep remaind time the sleep time tsleep simpli time remain second consum oper trxttxtdtlisten esleeptsleepcsleepv the lifetim node depend total energi consum batteri capac cbatt must bound lifetim avail capac batteri cbattv solv system equat enter paramet tabl find minimum energi forgiven network configur lifetim may estim compil time comput fordiscret set valu runtim provid reconfigur feedback network servic number neighbor node effect duti cycl check interv check interv check interv check interv check interv figur the node duti cycl affect network densiti lpl check interv typic use lpl check interv implement depict the best check interv lowest line atgiven network densiti paramet intyp deploy scientist determin physic locat node affect node neighborhood size ideal sampl rate with inform calcul paramet attain best lifetim achiev this also provid scientist estim long network live fix sampl rate vari network densiti evalu affect neighbor node lifetim solv system equat section sampl rate equal everi five minut yield figur takingfew slice across figur realist check interv shown figur find best lpl check interv applic find expect neighborhood size figur move lowest line the check interv correspond line yield maximum lifetim for exampl check interv optim forneighborhood size neighborhood size check interv optim the size neighborhood affect amount traffic flow node trade idl listen forreduc time transmit receiv assum havenetwork approxim neighbor per node optimum lpl check interv chang sampl rate increas sampl rate increas amount traffic network increas neighborhood size also increas traffic inperiod applic asresult node overhear packet must find optim check interv maxim lifetim lower also lower preambl length the time transmit receivepacket shorter radio sampl often the tradeoff frequent check radio order shorten packet transmiss time shown figur notic penalti idl listen requir traffic pattern left maximum lifetim point figur much sever penalti send packet longer check time lifetim year sampl period sampl period sampl period sampl period figur the lifetim node depend check interv amount traffic network cell each line show lifetim node sampl rate lpl check interv the circl occur maximum lifetim optim check interv sampl rate adapt control our model show advantag chang paramet mac protocol base chang network condit sinc sensor network consist low power volatil node like link appear disappear time node may join leav network size neighborhood chang due chang physic environ the mac protocol must abl adjust chang optim power consumpt latenc throughput support servic reli the analyt model allow node recomput check interv preambl length address reconfigur chose implement function mac protocol woo culler done instead createdset bidirect interfac allow servic chang mac protocol base current oper condit factor complex part convent mac protocol servic decid situat warrant use addit control for exampl link layer acknowledg support may select basi when acknowledg fail servic may choos retransmit packet chang packet destin reconfigur lpl paramet one scheme implement channel acquisit protocol packet transmiss rts packet respons sent destin node idl delay due transmiss the rts cts packet sent use lpl once channel acquir data acknowledg packet sent immedi cca lpl disabl after acknowledg node reenabl lpl cca return sleep experiment method illustr effect oflightweight configur mac protocol compar exist mac protocol specif each protocol run throughset simpl workload form empir character protocol perform the purpos microbenchmark show wsn protocol react typic wireless sensor network length byte preambl synchron header footer crc data length total tabl implement tinyo differ protocol overhead sendingdata packet smac haslarg header accommod timestamp inform the data payload default payload tinyo applic howev send length specifi higher level servic content low high throughput low high latenc correl power consumpt contrast use messag fragment servic implement use interfac mechan part protocol these microbenchmark build understand howreal applic would perform valid model section look detail perform deploy monitor applic use compar actual node duti cycl predict model show empir character appli real world applic both implement tinyo use wireless sensor node perform test all test occur unobstruct area line sight everi node enabl multihop network reduc output power node minimum valu place node meter space node elev centimet reduc effect determin power consumpt protocol implement counter mac protocol keep track mani time various oper perform for includ receivingbyt transmittingbyt check channel activ for count amount time node activ number byte transmit receiv addit time node spent awak due adapt listen sinc implement actual put node sleep mode measur power consumpt indirect multipli cumul time oper expect power oper mode all data assum actual enter sleep mode even though implement the power consumpt oper taken tabl addit test real sensor network hardwar simul matlab calcul time oper multipli current consumpt tabl get overal expect power consumpt protocol time experi tinyo implement avail dodirect comparison measur latenc node connect oscilloscop upon submiss ofpacket mac protocol toggl hardwar pin whenpacket receiv differ pin toggl use oscilloscop captur time pin toggl yield total latenc graph show optim solut found comput perfect schedul optim solut minimum number node percentag channel capac ack unicast broadcast channel capac throughput bps figur measur throughput protocol duti cycl undercontend channel the throughput protocol affect amount node contend channel protocol overhead achiev time throughput standard unicast protocol lower process effect cca tal transmit receiv cost possibl solut node perfect synchron addit overhead this metric serv show effect overhead sensor network mac protocol calcul power consumpt transmit receiv time multipli power perform oper case measur data throughput network this factor overhead evalu amount data deliv protocol cost deliv data test mention packet size refer size data payload header inform the overhead attribut protocol shown tabl useslong preambl contain time stamp inform header note control synchron packet byte long plus preambl synchron total byte for test vari data length tabl show default data length howev transmit data length specifi applic onper packet basi microbenchmark analysi section usevarieti microbenchmark show function may use effect these benchmark show effect ofwid array network condit energi consumpt show potenc interfac build effici applic communic protocol the result microbenchmark empir character perform provid insight expect behavior real world applic channel util channel util istradit metric mac protocol illustr protocol effici high channel util critic deliveringlarg number packet inshort amount time sensor network quick transfer bulk data typic occur network reprogram extract log sensor data minim time send packet also reduc network content network reprogram network woken throughput power consum alway figur the measur power consumpt maintain given throughput network throughput increas overhead sync period caus power consumpt increas linear the throughput averag node bitrat number data byte sent insecond time period node network reprogram quick possibl find channel util congest placednod equidist receiv each node transmit quick possibl mac protocol provid collis avoid increas offer load transmitt there node radio duti cycl test the throughput achiev smac shown figur general better throughput attain fewer node tri satur channel with one transmitt outperform broadcast mode disabl time smac unicast mode enabl time outperform broadcast traffic due sophist cca lower preambl overhead for unicast traffic suffer overhead exchang instead use control messag like hidden termin support reli higher layer servic send data accord traffic pattern these servic implement appropri hidden termin support workload for exampl sendingmultihop messag node cell refrain transmit one packet time elaps allow parent retransmit tree proven effici control messag multihop traffic allow servic decid mani cost control messag exchang elimin exceed perform trade fair process the test figur usesshort initi random backoff proven provid fair channel util analyz dataset found node test achiev bandwidth node yield even higher throughput discard fair asrequir each transmitt set backoff zero take control channel number node increas channel content captur caus captur effect occur overlap packet sent due one node sens channel clear anoth node process switch transmit mode fragment size byte energi per byte frag control frag control simul optim schedul second messag generat rate fragment size byte energi per byte frag control frag control simul optim schedul second messag generat rate figur the effect energi consumpt per byte nodefornetwork shown figur each node generatesmessag everi second left everi second right consist fragment size given manc converg perform sinc use longer preambl larger portion channel dedic incom signal synchron receiv use control interfac preambl may set length scale channel content increas illustr effect ofconfigur mac protocol sensor network implement scheme describ subsect this scheme illustr one methodservic may employ mitig hidden node problem increas fair sinc util time channel use cca algorithm section rtscts implement use actual provid doubl throughput when mani node compet channel support provid ident perform this test illustr system servic like built use interfac hinder protocol perform energi throughput design run low high data rate figur servic reli low duti cycl applic extrem low network throughput howev applic servic bulk data transfer stress high throughput function mac protocol evalu increas throughput affect power consumpt vari transmiss rate node insingl cell bound latenc data must arriv within second for optim check interv calcul traffic pattern test run energi consumpt calcul for optim duti cycl calcul traffic pattern data arriv within second period the result shown figur low data rate use extrem low duti cycl transmit receiv data amount data increas must duti cycl when duti cycl increas activ period withded sync period due overhead sync period begin wakeup energi consumpt increas linear low throughput send long preambl withlong check interv because tradeoff idl listen packet length overhead domin energi consumpt the overhead lpl mitig bymor frequent check interv throughput exceed bit per second note power consumpt bit per second within power consumpt howev signific less state synchron requir servic use may easili reconfigur link protocol chang check interv base network bandwidth wherea servic use must forc createnew schedul resynchron fragment small period data packet common workload sensor network certain case aris larger transfer need support larg messag fragment within mac protocol use exchang channel reserv compar direct design goal ficient messag fragment devis experi match done author use network configur figur transmit packet sourc andto sinksandbi rout figur network configur use packet fragment test test sent fragment per messag vari fragment size measur energi consum energi bottleneck node test number hop latenc sleep check check ack sleep adapt figur the latenc islinear function number hop network overhead mac protocol increas slope latenc ceas oper node sinc must receiv relay packet evalu energi requir deliv fragment run duti cycl adapt listen configur default paramet tabl figur show energi cost per byte nodewhen messag consist fragment sent everi second figur show energi cost per byte messag generat interv everi second without fragment control simpli protocol default paramet each fragment independ packet withlong preambl but middlewar servic could adjust mac protocol minim energi consum bulk transfer measur fragment control messag fragment servic built use interfac provid figur the first fragment messag sent lpl enabl extra byte inform receiv number fragment the remain fragment sent lpl disabl after last fragment sender receiv reenabl lpl with flexibl achiev signific power save effici essenti ident without addit overhead includ ram rom usag when messag transmiss period larg figur overhead readili appar energi consumpt per byte greater fragment size fragment support the approach long preambl fragment yield power consumpt without addit complex when activ channel remov overhead incur use adapt activ period return sleep much quicker figur show energi cost break upshort messag even shorter fragment high protocol simpli notviabl option sensor network latenc the author argu mac protocol permit increas latenc reduc node duti cycl conserv evalu latenc devis reproduc test provid direct comparison the test run latenc energi alway figur latenc increas energi consum decreas the point illustr line default configur shown tabl the point line default configur duti cycl adapt listen sourc sink figur hop configur use multihop latenc test network shown figur test sourc node send messag withpayload there fragment messag the latenc hop network measur method describ section test duti cycl adapt listen test default paramet the result shown figur abl reproduc latenc data fit previous publish result the latenc increas linear when duti cycl disabl effect exchang result inmuch steeper slope for low power communic hasslop almost ident adapt listen howev much lower sinc first packet sent activ period delay millisecond through adapt listen incur expect millisecond addit delay hop one protocol featur link layer acknowledg increas latenc insignific amount better evalu effect increas latenc reduc power consumpt fix throughput one byte packet per second interv measur latenc hop network vari duti cycl also chose optim given latenc throughput the result shown figur for latenc second perform signific better approach second latenc limit power dip when latenc exceed second power consumpt bound cost idl listen contrast best case perform number packet forward sent uti cle hop base station leaf node figur traffic aroundnod increas duti cycl use protocol lpl the node base station forward packet deploy yet achieveslow duti cycl minim preambl length packet sent base station shown figur reli synchron entir hop network use adapt listen transmit data network one activ period figur show import reconfigur wireless sensor network applic requir latenc relax could achiev lower energi consumpt howev oper atsingl set reconfigur thus realiz energi save macrobenchmark analysi the applic model section predict perform monitor applic wireless sensor network use bmac protocol section examin behavior ofrealworld monitor applic call surg examin surg duti cycl compar result predict analyt model the empir character section evalu network result surg also examin use interfac simpl optim larg impact network lifetim surg isperiod data collect applic acquir sampl node sensor send read sleep deploy place node throughoutmet meter home the node automat configur rout network surg collect data node everi three minut instead collect sensor data acquir statist inform perform see section energi indic implement each node transmit energi usag batteri voltag estim link qualiti surround node current parent data surg use verifi network perform match microbenchmark section use estim lifetim versus check interv forgiven sampl period see figur check interv evalu node communic rang overal size network expectedmaximum neighborhood size node conserv calcul preambl length number hop duti cycl averag duti cycl logarithm fit figur the posit network dictat amount traffic flow level approach base station node handl increas number packet the averag duti cycl comput find averag node atgiven hopcount fraction hopcount correl node oscil two level network note node away base station achiev lower duti cycl base station alway reconfigur use short packet node base station surviv longer check interv withneighborhood size usinglarg neighborhood may caus overshoot optim configur section figur show usinglong check interv less detriment overal lifetim check channel often sinc import thing inmonitor network reliabl report data must confirm success support multihop data report our implement use default multihop rout protocol tinyo distribut call mintrout after integr mintrout rout layer enabl link layer acknowledg upon fail acknowledg mintrout retransmit messag five time the surg applic run forperiod day collect data packet profil perform real world wireless sensor network during surg deploy network yield packet deliveri node achiev astound success rate deploy weretot time wherenod decid chang consequ chang rout environment chang alter communic topolog confirm woo zhao identif gray area link stabl hour intermitt broken due environment chang the base station place atconveni locat instal infrastructur incorn network from data collect surg applic determin actual duti cycl deploy network surg report valu instrument oper counter these counter translat intoduti cycl base constant current consumpt activ from duti cycl extrapol network lifetim figur show measur duti cycl node network the worst case duti cycl indic first node number hop latenc avg latenc std dev avg latenc min expect latenc figur the averag latenc packet deliv surg applic depend traffic network reliabl link the averag exceed expect latenc retransmiss add addit latenc packet exhaust batteri suppli approxim day year deploy our data show node averag neighbor less maximum estim addit node edg network less duti cycl attribut lower duti cycl signific reduct traffic edg network compar central node rout larg amount data the varianc leaf node duti cycl due differ local neighborhood size although network homogen exploit base station run withdiffer duti cycl sinc alway data collect network instead send packet long preambl node one hop away send packet byte preambl base station figur show node duti cycl versus number packet rout node there one node despit forward almost packet data packet hadduti cycl equal node forward less packet this node critic reliabl data forward packet would exhaust batteri suppli first causednetwork partit figur show duti cycl multihop level rout tree the node rout packet one hop base station abl alter mac behavior send short preambl base posit network optim perform valid model calcul expect lifetim base paramet deploy for function children model perform two calcul first assum rout algorithm producesbalanc binari tree second assum worst case rout line topolog traffic must forward node one hop base station withbalanc tree rout protocol reconfigur first node exhaust batteri suppli day year forlin worst case lifetim day year presenc optim andbalanc tree expect node base station exhaust batteri suppli day year deploy node exhaust suppli day year for line expect lifetim node one hop base station day year unfortun node deploy formbalanc tree formlin our measur power consumpt data show thatnod one hop away surviv year slight higher year estim forlin two hop surg applic worst case lifetim year direct estim year forbalanc tree year forlin this data valid model howev protocol design must care build network servic uniform distribut rout therebi uniform distribut energi consumpt throughout network without base station optim worst case power consumpt higher the power base station issimpl exampl network heterogen one could imagin much heterogen withhierarchi devic the differ devic dictat optim may implement bidirect communic mac protocol addit predict power consumpt network empir model also predict network latenc introduc protocol illustr figur sinc surg isperiod applic messag latenc measur evalu variat packet deliveri rate the latenc measur surg deploy along predict valu plot figur the averag latenc slight higher predict howev minimum latenc network level exact match predict valu the differ averag minimum latenc due unexpect network congest packet loss surg retransmit messag increas reliabl indic acknowledg fail upon retransmiss messag incur addit latenc discuss our benchmark shown thatsmal amount inform servic use provid signific power save addit power save achiev inform applic oper section discuss implic use idea because lightweight configur mani sensor network protocol may implement effici use primit may implement servic use under link protocol link protocol perform synchron organ fragment hidden termin support could benefit flexibl these protocol could built inmodular way allow applic servic use necessari subset mechan provid mitig cost recept incur lpl packet could sent cyclic withshort preambl although reduc transmiss cost reduc time receivingpacket trx lpreamblelpacket trxb note lpreambl reduc long lpl preambl byte the node return sleep check interv receivingpacket perform earli reject much quicker packet sent long preambl show section use node level tree assist reduc duti cycl reduc transmiss energi consumpt node may learn offset check interv parent wake sampl channel know point parent wake allow node creat communic schedul parent without messag overhead start transmiss parent sampl time preambl signific reduc size this optim reduc transmiss recept optim propos author wisemac broadcast packet would still sent use long preambl node snoop onsignific portion network traffic schedul fail due tochang link qualiti parent node failur retransmiss data fall back long preambl method conclus paper presentedflex mac protocol featur simpl predict yet scalabl implement toler network chang effect perform clear channel estim core exceed perform protocol though reconfigur feedback bidirect interfac higher layer servic may configur run extrem low duti cycl forc applic incur overhead synchron state mainten present analyt model predict applic lifetim set paramet use microbenchmark show outperform exist wireless sensor network media access protocol onlysmal amount inform servic use with default paramet addit inform surpass exist protocol term throughput latenc often energi consumpt the perform various workload gave enough inform make accur predict real world applic run the surg applic oper within realm model reportedsignific amount data packet deliveri media access reconfigur essenti dynam system like wireless sensor network interfac servic use mac protocol necessari meet demand protocol applic optim protocol perform system servic applic inpredict manner prove feasibl technolog deploy acknowledg this work support darpa grant network embed system technolog nest nation scienc foundat intel research laboratori berkeley center inform technolog research interest societi citri special thank wei help smac tinyo thank deborah estrin nithya ramanathan anonym review shepherd koen langendoen whose suggest feedback signific improv work refer abramson the aloha system anoth altern comput communic proceed fall afip comput confer page cerpa elson estrin girod hamilton zhao habitat monitor applic driver wireless communic technolog acm sigcomm workshop data communic latin america caribbean apr chipcon corpor low power fsk transciev http apr aloha preambl sampl sporad traffic hoc wireless sensor network proceed ieee intern confer communic apr decotigni hernandez low power mac protocol infrastructur wireless sensor network proceed fifth european wireless confer hamilton allen estrin rottenberri rundel srivastava soatto extens sens system advanc network design microclim sens http june hill culler mica wireless platform deepli embed network ieee micro intanagonwiwat govindan estrin direct diffus scalabl robust communic paradigm sensor network proceed sixth annual intern confer mobil comput network jubin tornow the darpa packet radio network protocol proceed ieee kahn gronemey burchfiel kunzelman advanc packet radio technolog proced ieee levi madden polastr szewczyk whitehous woo gay hill welsh brewer culler tinyo oper system wireless sensor network ambient intellig mainwar polastr szewczyk culler anderson wireless sensor network habitat monitor proceed acm intern workshop wireless sensor network applic page acm press low power communic protocol page beyond proceed ieee symposium low power electron robert aloha packet system without slot captur comput communic review apr singh woo raghavendra rout mobil hoc network proceed confer mobil comput network szewczyk polastr mainwar culler lesson fromsensor network expedit proceed first european workshop sensor network ewsn univers california berkeley schemat http mar univers california berkeley tinyo cvs repositori sourceforg http van dam langendoen adapt mac protocol wireless sensor network proceed first acm confer embed network sensor system woo control scheme media access sensor network proceed seventh annual intern confer mobil comput network juli woo tong culler tame under challeng multihop rout sensor network proceed first acm confer embed network sensor system heidemann estrin mac protocol wireless sensor network proceed intern annual joint confer ieee comput communic societi infocom june heidemann estrin medium access control coordin adapt sleep wireless sensor network ieee transact network apr zhao govindan understand packet deliveri perform dens wireless sensor network proceed first acm confer embed network sensor system ieee wireless communicationsdecemb wireless sensor network introduct the definit ofloc system among sensor node isfundament issu mani applic wireless sensor network wsns because sensor network may deploy inaccess terrain disast relief oper posit sensor node may predetermin thus local system requir order provid posit inform node the import local inform aris sever factor mani relat wsns these factor includ identif correl gather data node address manag queri node local indetermin region evalu node densiti coverag energi map generat geograph rout object track geograph algorithm all factor make local systemskey technolog develop oper wsns articl address local problem viewpoint ofwsn next two section briefli present overview definit local system wsns compon show main method use local system estim distanc angl show techniqu use bynod comput posit estim inform distanc posit manipul order allow node ofwsn estim posit final present conclus problem statement wsn compos ofnod withcommun rang distribut intwodimension squar sensor for sake simplif consid symmetr communic link two nodesand reachesif reachesand signal strength thus repres network euclidean follow properti set sensor node reach distanc less weight distanc some term use design state ofnod definit unknown nodesu also known free dumb node term refer node network know local inform allow node estim posit main goal local system definit settl nodess these node initi unknown node manag estim posit use local system the number settl node estim posit error node main paramet determin qualiti local system azzedin boukerch univers ottawa horacio oliveira univers ottawa feder univers amazona eduardo nakamura feder univers mina gerai and fucapi antonio loureiro feder univers mina gerai abstract monitor applic defin import class applic use wireless sensor network applic network perceiv environ search event occurr phenomena sens differ physic properti temperatur humid pressur ambient light movement presenc target track case locat inform phenomena node usual requir track correl purpos work summar concept relat local system wsns well local node network allow local phenomena divid local system three distinct estim posit comput local algorithmbesid providingdidact viewpoint show compon seen subarea local problem need analyz studi separ local system for wireless sensor network the author summar concept relat local system wsns well local node network allow local phenomena boukerch layout page ieee wireless communicationsdecemb definit beacon nodesb also known landmark anchor node needloc system order estim physic posit their local obtain manual placement extern mean gps these node form base local system wsns the local problem defin follow definit local problem given multihop andset beacon nodesand posit want find posit possibl transform unknown node settl node the compon local system local system divid three distinct compon estim this compon respons estim inform distanc angl two node this inform use compon local system posit comput this compon respons computingnod posit base avail inform concern posit refer node local algorithm this main compon ofloc system determin avail inform manipul order allow node ofwsn estim posit figur depict compon divis besid providingdidact viewpoint import suchdivis compon come see need recogn final perform ofloc system depend direct compon also compon goal method solut they thus seen subarea local problem need analyz studi separ estim estim consist identifi distanc angl two node such estim constitut import compon local system use posit comput local algorithm compon differ method use estim inform some method accur higher cost term hardwar energi processor resourc other less accur alreadi avail sensor node follow section main method use local system estim studi these method includ receiv signal strength indic rssi time differ arriv angl arriv aoa communic rang receiv signal strength indic rssi use estim distanc two node base strength signal receiv anoth node depict fig sender node sendssign determin strength fade signal propag the bigger distanc receiv node lesser signal strength arriv node theoret signal strength invers proport squar distanc andknown radio propag model use convert signal strength distanc howev environ indic high influenc nois obstacl type antenna make hard model mathemat case common make system calibr valu rssi distanc evalu ahead time incontrol environ this method like other advantag disadvantag the main advantag low cost receiv capabl figur divis local system three distinct compon local local algorithm system distanc estim posit comput figur decreas signal strength method deriv distanc signal arriv time angl arriv signal ultrasound puls sensor node time transmitt receiv distanc communic rang radio signal time transmitt receiv distanc radio signal set receiv boukerch layout page ieee wireless communicationsdecemb estim receiv signal strength the disadvantag method suscept nois interfer result higher inaccuraci distanc estim some experi show error scenario node place plane field ground withcommun rang although rssi show plausibl result simul control experi usag applic still question but consid low cost possibl sophist precis use rssi better transmitt could becom use technolog distanc estim viewpoint howev technolog yet avail time differ arriv differ method tri estim distanc two node use time base measur the simpl intuit toa case distanc two node direct proport time signal take propag one point anoth this way ifsign sent time reach receiv node time distanc sender receiv dsr propag speed radio signal speed light time signal sent receiv fig this type estim requir precis synchron node time signal leav node must packet sent tdoa base the differ time whichsingl signal fromsingl node arriv three node the differ time multipl signal fromsingl node arriv anoth node the first case common cellular network requir precis synchron receiv node case base station second case common suitabl wsns node must equip extra hardwar capabl send two type signal simultan these signal must differ propag speed like usual first signal packet propag speed light second signal kind sound slower propag six order magnitud slower first signal exampl tdoa suitabl wsns use depict fig ultrasound puls sent simultan radio signal case node comput differ arriv time two signal the distanc comput formula srss propag speed radio ultrasound signal arriv time radio ultrasound signal respect anoth differ interest way comput distanc among node use tdoa propos base direct sequenc spread spectrum dsss modul techniqu the error distanc estim obtain tdoa approxim centimet experi ultrasound perform indic error smaller sensor node scenario node separ distanc acoust sound test result show error node distanc despit lower error system disadvantag the first need extra hardwar send second signal increas node cost the second disadvantag general limit rang second signal normal andwith power transmitt arriv the aoa signal also use local system this angl relat node electron compass tosecond signal receiv node the estim aoa done use direct antenna array receiversusu three morethat uniform separ last case base arriv time signal receiv becom possibl estim aoa signal fig experi show method inaccuraci degre the need extra hardwar andminimum distanc receiv result disadvantag term cost size node comment about the estim the choic method use estim distanc node inloc system import factor influenc final perform system usual shown next section estimateposit node use least three distanc estim associ error hand accuraci method import could use tdoa sinc fewer error howev factor includ size cost term hardwar processor energi node must also taken consider thus method chosen estim distanc depend applic requir well avail resourc posit comput whennod enough inform distanc angl posit comput posit use one method studi section sever method use comput posit ofnod such method includ trilater multilater triangul probabilist approach bound box central posit the choic method use also impact final perform local system suchchoic depend inform avail processor limit trilater and multilater trilater basic intuit method this method computesnod posidiffer method tri estim distanc two node use time base measur the simpl intuit toa case distanc two node direct proport time signal take propag one point anoth boukerch layout page ieee wireless communicationsdecemb tion via intersect three circl depict fig estim posit use trilater node need know posit three refer node distanc node distanc estim use one method explain previous section the circl form posit distanc refer repres formula posit want comput posit ith refer node distanc ith refer node unknown node case three equat two unknown solv theoret one solut applic distanc estim inaccuraci well inaccur posit inform refer node make difficult computeposit depict fig circl intersect one point result infinit set possibl solut furthermor whenlarg number refer point avail use multilater comput node posit case overdetermin system equat must solv figur depict case usual overdetermin system haveuniqu solut when consideringrefer point also error distanc estim make system equat becom wherei normal consid independ normal random variabl zero mean this system linear subtract last equat axb this linear system solv easili use standard method like least squar approach the number float point oper need computeposit depend method use solv system equat case least squar method float point oper wherei number unknown andi number equat requir estimateposit bound box the bound box method propos use squaresinstead circl trilater bound possibl posit ofnod exampl method depict fig for refer node bound box defin assquar center posit node side size wherei estim distanc coordin xidi yidi xidi the intersect bound box easili comput without need float point oper take maximum low coordin minimum high coordin bound box this shade rectangl fig the final posit unknown node comput center intersect bound box despit final error method greater trilater comput intersect squar use fewer processor resourc comput intersect circl triangul triangul inform angl use instead distanc posit comput done remot fig node latter common wsns last case depict fig least three refer node requir the unknown node estim angl three refer node base angl posit refer node formtriangl comput posit use simpl trigonometr relationship this techniqu similar trilater fact base aoa possibl deriv distanc refer node figur theoret model trilater realist model trilater multilater bound box triangul probabilist approach bound box residu boukerch layout page ieee wireless communicationsdecemb probabilist approach the uncertainti distanc estim motiv appear probabilist approach computingnod posit exampl probabilist approach propos error distanc estim model normal random variabl when unknown node receivespacket fromrefer node place around refer node equal probabl when anoth packet receiv anoth refer node unknown node comput posit depict fig when new posit inform receiv node becom possibl identifi probabl locat unknown node depict fig the main drawback approach high comput cost space requir store inform comment about posit comput number method exist aim comput posit ofnod locat fingerprint ismethod signal characterist obtain fromset locat catalogu posit comput ofnod consist compar current signal characterist catalogu previous this techniqu use bahl indoor local system need generatesign signatur databas make techniqu unfeas scenario wsns apit algorithm use triangl form three beacon node andnod decid insid outsid triangl compar signal strength measur measur neighbor the posit node comput find centroid intersect beacon triangl node within other work concentr inform distanc node intocentr node use mathemat optim techniqu comput posit node exampl work doherti formul local problem convex optim problem base constraint usesemidefinit program sdp solv problem there also work shang use multidimension scale mds local algorithm the local algorithm main compon ofloc system this compon determin inform concern distanc posit manipul order allow node ofwsn estim posit local algorithm classifi categori distribut central posit comput without infrastructur relat absolut posit design indoor outdoor scenario one hop multihop here propos local algorithm discuss show compon differenti compon these algorithm hoc posit system recurs posit estim rpe local withmobil beacon lmb hoc posit system reduc number beacon node three deploy unknown node then node estim distanc beacon node inmultihop way once distanc estim node comput posit use trilater three method distanc propag propos euclidean beacon node start propag posit inform fig work extens distanc vector algorithm node receiv posit inform beacon node well number hop beacon whenbeacon node receiv posit inform beacon node enough inform comput averag size one hop base posit posit beacon node number hop fig this last valu flood incontrol way network ascorrect factor when unknown node receivescorrect abl convert distanc beacon node number hop meter fig the complex messag exchang algorithm driven total number beacon normal node wherei number node andi number beacon node advantag local algorithm requireslow number beacon node order work howev way distanc propag especi well way distanc convert hop meter result erron posit comput increas final local error system recurs posit estim rpe node estim posit base onset initi beacon node percent node use local inform local inform increas iter newli settl node becom refer node the rpe algorithm divid four phase depict fig first phase node determin refer node second phase node estim distanc refer node use exampl rssi third phase node comput posit use trilater becomingsettl node final phase node becom refer node broadcast newli estim posit neighbor whennod becomesrefer assist node comput posit well advantag algorithm number refer node increas quick suchway major node comput posit but techniqu disadvantag propag local error this mean inaccur posit estim one node use node estim posit increas inaccuraci furthermor node must least three refer neighbor order comput posit reduc number beacon node three deploy unknown node then node estim distanc beacon node multihop way once distanc estim node comput posit use trilater boukerch layout page ieee wireless communicationsdecemb local withmobil beacon some recent work propos use mobil beacon assist node ofwsn estim beacon node awar posit equip withgp receiv abil move around sensor field this beacon human oper unman vehicl aircraft orrobot the system oper quit simpl once node deploy mobil beacon travel sensor field broadcast messag contain current coordin whenfre node receiv three messag mobil beacon comput posit usingprobabilist approach base receiv coordin rssi distanc estim figur illustr scenario three possibl trajectori mobil beacon the communic cost wsn null sinc none node except mobil beacon need send packet advantag algorithm posit estim comput base node mobil beacon thus keep mean local error low prevent propag error addit algorithm avoid use node equip gps except mobil beacon hand techniquesensor node estim posit mobil beacon pass near node may takelong time depend factor size sensor field beacon mobil capac node trajectori also mobil beacon may never pass near node either trajectori orproblem mobil beacon comment about local algorithm sever local algorithm focus differ aspect error number beacon number settl node gps usag among thing usual algorithm tri reduc complet remov need gps receiv beacon node other algorithm take advantag certain network featur beacon transmitt direct local recurs orbeacon infrastructur the choic algorithm use depend resourc avail scenario requir applic mean local error accept node final remark this articl address local problem viewpoint ofwsn divid local system three compon estim posit comput local algorithm the import suchdivis local system compon lie need recogn final perform local system depend direct compon for instanc local system achiev better result tdoa figur exampl phase hop hop hop beacon node avghop unknown node settl node figur exampl phase rpe figur oper possibl trajectori ofmobil beacon trajectori trajectori trajectori mobil beacon mobil beacon mobil beacon boukerch layout page ieee wireless communicationsdecemb method use instead rssi estim distanc the principl appli compon these compon seen subarea local problem need studi separ general rule wsns perfect solut suitabl everi scenario the rule appli local problem this articl shownnumb propos local system emphasi specif scenario applic the necess differ solut differ applic also high number possibl applic wsns great motiv studi propos new solut local problem refer akyildiz wireless sensor network survey comp network vol mar whitehous culler calibr paramet estim sensor network wsna proc acm int wksp wireless sensor network acm press savvid han strivastava dynam local network sensor int conf mobil comput network rome itali local scheme larg scale sensor network mobicom acm press bachrach taylor local sensor network handbook sensor network algorithm architectur stojmenov wiley lichtenegg collin global posit system theori practic priyantha the cricket compass contextawar mobil applic acm int conf mobil comput network rome itali juli the local wireless sensor network node base dsss ieee int whitehous the design calamari hoc local system sensor network master thesi berkeley niculescu nath hoc posit system use aoa proc infocom san francisco ramadurai sichitiu local wireless sensor network probabilist approach proc icwn las vega june simic sastri distribut local wireless hoc network berkeley tech bahl padmanabhan radar user locat track system proc ieee infocom vol tel aviv israel mar doherti pister ghaoui convex posit estim wireless sensor network ieee icc vol anchorag apr shang ruml improv local ieee icc vol mar albowicz chen zhang recurs posit estim sensor network int conf network protocol niculescu nath hoc posit system ieee globecom san antonio priyantha chakraborti balakrishnan the cricket system mobil comp network boston bulusu heidemann estrin low cost outdoor local very small devic ieee per vol capkun hamdi hubaux posit mobil hoc network cluster comput vol sichitiu ramadurai local wireless sensor network withmobil beacon proc ieee int conf mobil hoc sensor oliveira direct posit estim recurs local approach wireless sensor network proc ieee int conf comp commun network thuel yang park san diego biographi azzedin boukerch boukerch isful professor holdscanada research chair posit univers ottawa found director paradis research laboratori univers prior heldfaculti posit univers north texa work assenior scientist simul scienc divis metron corpor san diego california also employ faculti school comput scienc mcgill univers taught polytechn montreal spentyear institut technolog contribut project center specif verif softwar use control interplanetari spacecraft oper laboratori his current research interest includ wireless hoc sensor network wireless network mobil pervas comput wireless multimedia qos servic provis perform evalu model distribut system distribut comput distribut interact simul parallel discret event simul publish sever research paper area recipi best research paper award pad acm mobiwac nation award telecommun softwar work ondistribut secur system mobil phone oper nomin best paper award pad acm mswim ishold ontario earli research excel award previous known premier ontario research excel award ontario distinguish research award andglinski research excel award qshine intern confer qualiti servic heterogen network serv asgener chair symposium model analysi simul wireless mobil system symposium distribut simul applic program chair acm workshop qos secur wireless mobil network europar annual simul symposium acm www ieee mwcn mascot ieee wireless local network wln ieee wman acm mswim beentechn program committe member numer ieee acm sponsor confer serv asguest editor sever public antonio loureiro loureiro comput scienc feder univers mina gerai ufmg comput scienc univers british columbia canada current associ professor comput scienc ufmg lead research group wireless sensor network his main research area wireless sensor network mobil comput distribut algorithm eduardo freir nakamura research full professor center research technolog innov brazil receiv comput scienc feder univers mina gerai brazil his research interest includ fusion distribut algorithm local algorithm wireless hoc sensor network mobil pervas comput publish sever paper area wsns serv astechn program committe member latin american autonom comput symposium support ieee comput societi horacio oliveira horacio professor comput scienc feder univers amazona ufam brazil current work toward degre comput scienc ufmg withparti doctor fellowship univers ottawa canada hold comput scienc ufmg comput scienc ufam his research interest includ local synchron algorithm distribut algorithm wireless hoc vehicular sensor network author sever paper differ area research interest the necess differ solut differ applic also high number possibl applic wsns great motiv studi propos new solut local problem boukerch layout page backgrokund the invent field invent the invent relat wireless telemetri secur network monitor physic condit particular invent relat remot detect monitor track vehicl personnel physic condit exampl industri equip monitor control system descript relat art sensor network numer applic secur industri monitor militari reconnaiss biomed monitor mani applic either inconveni imposs connect sensor wire cabl wireless network prefer seismic sensor exampl use detect intrus movement vehicl personnel larg earth mass for exampl pat vanc describ integr acoust network provid warn impend groundfal underground mine the system includesplur geophon deriv acoust signal sourc seismic disturb locat array high frequenc piezoelectr sensor pick signal small ground disturb preced groundfal the detect vehicl personnel difficult detect larg signal earthquak movement earth mass quiet vehicl personnel movement produc seismic signal may detect geophon rang ten meter particular presenc background nois the reliabl detect track larg area thus requir larg number sensit detector space close the placement larg number convent detector general inconveni expens time consum must wire communic power network numer sensit low cost low power sensor station would desir wireless network sensor station howev present sever technic challeng wireless communic general requir higher power wire communic distanc individu wireless sensor station requireslimit contain power suppli usual dictat conserv energi the result low power constraint sever limit rang wireless transmiss individu sensor station there drawback wireless communic vulner jam unintent interfer also overt sourc oftransmiss locat byhostil agent control data process occur atcentr locat entir network vulner failur central processor such architectur low reliabl easili surviv inhostil environ wireless communic among larg number dens place sensor station requir sophist multiplex schedul avoid station place random initi unknown locat difficult learn topolog network communic communic relay among multipl station may schedul wireless secur devic wireless alarm wide avail such system general employ wireless communic for exampl brunius pat describessystem alarm transmitt report tocentr process unit cpu the system even permit cpu detect new alarm transmitt add program system such system limit communic alarm central control this limit flexibl util imposs remot reprogram adapt network sensor tochang environ ornew purpos addit problem patent system alarm transmitt must suffici power receiv central receiv orrepeat must provid this requir relat high power coversignific area the number possibl transmitt also limit number communic channel avail otherwis simultan transmiss channel interfer one anoth unintellig this system extend permittruli distribut multihop network contain high number dens place low power sensor station anoth shortcom prior detect alarm system littl signal process alarm condit avail sensor station especi wireless system this make difficult distinguish among relev urgent irrelev signal unless entir signal transmit would requirelarg expenditur energi summari the invent the invent isminiatur electron sens station adapt wireless communic innetwork similar sens devic sens event intrus vehicl movement chang status industri process physic chang detect sensor deploy innetwork allow monitor spatial extent distribut sens condit each sens station network includ one sensor digit signal processor analyz data sensor programm microprocessor make decis base upon analyz data control communic function power suppli andwireless transceiv communic sens devic network user all compon sens station enclos insingl packag collect constitut node network intyp applicationnetwork node may contain larg number sens node space fair close togeth typic within less yard the node place random they could exampl drop aircraft orship could place manual necessari node haveknown locat startup node programm organ indistribut fashion control network distribut among node indispens central control necessari the invent prefer use inlarg network wireless node compact hasveri limit power suppli the limit avail power make low power consumpt object everi level invent the practic implement network architectur depend sever featur cooper insynergist manner allow effect low power sens wireless communic node level invent use low power sensor low power digit signal process micropow programm microprocessor andlow power transceiv cooper architectur well adapt conserv energi network level design also conserv energi fulli util larg number node low power short rang communic network two techniqu use node level energi conserv motif circuit requir activ duringtim window held inact sleep mode conserv energi whenev possibl data process compress summar transmiss this latter techniqu effect wireless transmiss consum vast energi comput especi low power complementari metal oxid semiconductor cmos circuitri use comput the sensor sensor may sever type seismic acoust infrar thermal optic magnet mechan exampl acceleromet the invent includ realize sensor sensor could also use long consum low power small the sensor may includesens devic produc analog output indic sens condit coupl convert adc digit analog output the adc oper low duti cycl convert consum low power the adc display low switch activ absenc ofchang input signal level thus oper minimum power normal oper absenc threat signal the digit signal adc process bylow power digit signal processor analyz power spectral densiti select band the power spectral densiti signal compar toprofil anddecis made base result comparison when spectral densiti signal exceed threshold profil output ofseri compar caus programm microprocessor wake power conserv state tohigh power oper state the microprocessor decid action take whether perform signal process analysi activ transmitt transmit spectral densiti signal transmit raw signal data perhap noth depend signal program microprocessor the microprocessor prefer adapt conserv power continu oper usual sequenc instruct fetch decod oper rather activ critic low window whendecis requir base event the wireless transceiv allow node communic node includ user node provid communic user enabl microprocessor the invent prefer use low power radio frequenc circuitri one embodi transceiv design consum minim power demand turn quick requir power also conserv network level organ node communic bymultihop method relay messag throughseri short low power transmiss hop rather long high power jump the node may program organ intocommun topolog enabl wireless communic throughout network usingtim divis multipl access tdma scheme tdma prefer allow transceiv remain inpow conserv state period time use turn short burst because node hasveri short rang multipl node may use channel simultan long simultan user rang one anoth this enabl reus wireless communic channel make possibl forlarg number node communic onrel small number channel the abil use wireless communic enabl network respond chang environ chang command prioriti each node reprogram wireless transmiss relay network for exampl new spectral profil enter node reprogram forhigh duti cycl critic period activ loss node addit new node accommod easili the invent also benefit fromhigh degre integr compon sensor micropow control processor adc wireless transceiv signal packag relat eas manufactur compact durabl packag make practic deploy larg number short rang dens place wireless sensor node brief descript the draw fig isperspect view one embodi electron sens station node invent fig isperspect view ofnetwork node deploy inlandscap fig isblock diagram show architectur exemplari node fig isblock diagram ofdigit signal processor use invent fig isblock diagram one realize offour pole digit filter iir form use digit signal processor extract spectral power inform sensor data fig isgraph show frequenc respons select digit bandpass filter realiz accord use invent fig isflow chart show control activ perform bymicroprocessor use invent fig istim diagram showingposs subdivis ofrep time frame use invent allow multipl access node communic fig isblock diagram ofwireless transceiv use invent detail descript the invent ishigh integr miniatur electron sens station special adapt use sens station inwireless communic network the station network ispart use sens condit event intrus vehicl movement condit chang status industri process physic chang condit detect sensor because function member ofnetwork sens station hereinaft refer node recognit similar node incommun network graph fig show one possibl realize ofsingl devic node might deploy terrain the node includ enclosur hous provid environment protect function compon shown phantom includ circuitri power suppli batteri antenna mount atop enclosur transmit receiv radio signal although antenna shown asvert dipol artifici groundplan configur may use includ intern covert antenna loop even integr antenna element the exterior shape node hous could also vari take almost shape applic demand the dimens hous vari minimum size limit degre integr miniatur circuitri power suppli fig show exampl node might deploy terrain the node drop exampl aircraft ground vehicl even walk personnel individu node scatter inmor less random fashion abl establish wireless radio communic indic dot line collect formingnetwork fig show architectur individu node local environment condit chang sens bysensor sensor array typic case sensor produc analog signal signal convert adc provid digit data sensor the data store process inbuff memori signal processor dsp prefer includesbuff spectrum analyz sum squar accumul threshold compar filter analyz store data improv ratio extract inform regard amplitud spectral characterist sensor data after filter dsp compar characterist profil present result comparison tomicroprocessor the microprocessor make decis base upon inform dsp for exampl certain low frequenc signal detect indicatingvehicl may causewireless transceiv transmitwarn the microprocessor requir perform addit signal process analysi exampl fourier transform analysi data reconfigur dsp close examin specif spectrum band addit microprocessor respons control schedul communic node user orsecond microprocessor provid controllingwireless transceiv perform function mani function node includ signal process decis make communic manag could perform separ dedic microprocessor although invent encompass multipl microprocessor embodi sake simplic figur show one microprocessor perform various function use herein microprocessor understood symbol refer least one microprocessor the transceiv control microprocessor provid communic withnetwork node withus user communic data spectral time domain instruct transmit receiv the receiv data instruct store microprocessor use modifi program either microprocessor dsp the invent prefer use innetwork numer node limit power suppli typic batteri solar cell low power consumpt thus prefer node level power consumpt reduc use circuitri frequent held inact sleep mode immedi requir the node also conserv energi summar analyz data transmit summari result rather raw data this techniqu sometim call effect comput perform exampl cmos logic much lower power consumpt wireless transmiss data network level communic prefer schedul rout exploit low power multipl hop relay communic prefer embodi sever compon subsect node sensor adc dsp microprocessor wireless transceiv fulli integr onchip power bypow suppli hous enclosur such integr enabl low cost manufactur extrem compact packag howev greater lesser degre integr possibl result node also within scope invent the detail oper structur node subsect discuss sequenc begin sensor the sensor the sensor system must identifysign presenc environment nois sourc signal seismic infrar thermal optic acoust mechan other decay amplitud rapid distanc sourc increas detect rang sensor sensit must increas addit due fundament limit background nois maximum detect rang exist sensor thus may desir obtain greatest sensit util compact sensor may distribut wide dens addit applic desir integr multipl sensor vari characterist signal process control wireless transceiv portion node thus increas inform avail node integr sensor electron prefer accomplish convent bond processsensor die andcmo interfac die fabric the cmos interfac die flip bond sensor die typic includ bulk sensor structur this process allow modular process fabric sensor die materi incompat cmos process separ cmos fabric thus high perform piezoelectr pyroelectr actuat sensor materi may integr cmos measur control system without interfer cmos fabric typic sensor could use invent disclos pat william kaiser this patent disclos exampl cmos integr microacceleromet could use asseismomet vibrat sensor integr microacoust sensor thermoelectr sensor also disclos patent anoth thermal infrar sensor suitabl use invent ishigh sensit radiat thermopil sensor describ david chang micropow infrar sensor system solid state sensor actuat workshop technic digest trf cat lib congress isbn such devic well suit larg scale integr compon ofnod present invent howev sensor geophon acoust detector thermal sensor photoelectr detector even mechan transduc employ either togeth altern integr sensor the adc intyp embodi invent shown fig sensor produc analog signal output adc must provid convert sensor output digit form architectur suitabl use adc invent provid low power low nois oper although low power constraint discourag use flash pipelin sequenti approxim architectur adc architectur could use provid suffici bandwidth resolut sensor data interest provid adc power consumpt inconsist avail power power suppli lifetim consider the dsp the dsp analyz amplitud spectral characterist signal acquir sensor improv ratio signal within spectral region interest the dsp compar amplitud spectral characterist signal spectral profil either store communic fromnetwork the result comparison spectral data raw signal data made avail microprocessor this data combin microprocessor data sensor multipl sensor provid node extract clue ident number size distanc direct signal sourc sourc the dsp prefer implement emphasi low power signal process rate may reason sacrif enabl low power continu oper bandwidth typic sensor system low exampl approxim forseism vibrat sensor fig show one exampl appropri architectur dsp embodi shown low sampl rate result sensor respons allow dsp unit oper low clock frequenc less khz because sensor signal slowli chang dsp may effect reconfigur reprocess sensor signal event overflow unusu signal event the illustr dsp unit containsclock divid divideclock puls train clock may oper atfrequ order khz tolow sampl rate appropri sensor data specif applic the result lower clock rate use adc trigger sampl sensor signal the input end dsp last stage adc counter count puls output adc counter control resolut adc set length time cycl counter count puls the output counter convert convert two complement represent offset purpos center filter output around zero result data store inbuff the data store buffer next process byspectrum analyz preferablybank digit filter each digit filter may realiz eight bit infinit impuls respons iir digit filter order reduc effect truncat error cascad structur two second order iir filter use providingfour pole bandpass filter fig showssuit configur convent direct form realize suitabl use assingl channel multipl channel digit filter bank accord common convent triangl indic multipl byspecif coeffici store coeffici memori fig circl indicatesumm box mark indicatememori regist store input valu latch previous clock cycl thus input sensor data byte input termin sum atsumm junction withnumb calcul sum summat junction content two regist multipli respect coeffici the sum output summat junction multipli coeffici sum summat junction output summat junction sum content regist multipli respect coeffici the output summat junction clock regist end clock cycl time content clock regist regist thus alway hold previous clock cycl valu regist the process repeat next data byte sequenc the choic coeffici channel determin shape bandwidth center frequenc result filter function may calcul accord method well known art the coeffici spectral band store memori the microprocessor dynam chang coeffici store memori thus providingway dynam reconfigur program spectrum analyz fig show frequenc respons three exemplari bandpass filter realiz form shown fig ten wide passband center frequenc input byte rate the spectrum analyz made multipl channel bandpass filter enabl spectral analysi input signal produc multipl output repres spectral power densiti withinspecif frequenc band the bandpass filter may implement parallel arithmet unit multipli adder may share save power chip area the output spectrum analyz prefer accumul ssq accumul fig multipl frequenc slot one embodi multiplex allow channel ssq accumul sharesingl multipli accumul multipl separ regist word accumul ssq valu multipl channel respect after accumul ssq valu place consecut output port threshold compar the threshold compar compar multipl output ssq accumul threshold store memori the multipl output may compar sequenti usingmultiplex sequenti compar ssq valu correspond program threshold ssq valu fall outsid program paramet exampl greater equal correspond store threshold valu interrupt bit set request attent microprocessor also shown fig the power spectral densiti accumul accumul time domain data store buffer also made avail microprocessor demand microprocessor the describ apparatus compar analyz spectrum toprofil providesway identifi signal for exampl larg heavi vehicl producingdistinct low frequenc rumbl distinguish type signal sourc refer frequenc profil applic exampl industri control may desir detect whensign fall belowthreshold exampl whenmotor fail threshold compar would case configur produc interrupt output signal fall appropri threshold the digit bandpass filter spectrum analyz describ offerssimpl low power method signal analysi howev method includ limit fourier transform wavelet analysi also possibl within scope invent the spectrum analysi could perform microprocessor embodi bysepar microprocessor provid purpos such variat also within scope invent the microprocessor the microprocessor provid essenti control logic program function node addit make decis base upon sensor data handl multipl task includ communic schedul topolog learn network mainten updat rout tabl calcul rang relat neighbor node target storag data relay communic node fromus all function involv communic schedul topolog learn control least one node microprocessor the microprocessor member node may exampl store matric identifi network member node connect communic link schedul time slot transmiss recept locat the microprocessor may ofnumb suitabl commerci avail microprocessor prefer chosen low power flexibl power manag function low cost adequ process capabl for exampl candid would includ amd avail advanc micro devic orlow power famili processor intel the microprocessor prefer capabl temporarili oper inlow power sleep mode awaken interrupt generat exampl detect interest signal applic specif processor could use suchcas design emphas low power abil exploit low duti cycl use sleep mode when awaken sleep mode detect ofsign microprocessor makedecis regard signal appropri cours warn node increas data acquisit check spectral signatur etc the microprocessor prefer also capabl schedul control communic circuit situat demand appropri microprocessor may rout spectral densiti inform dsp buffer time domain sensor data transceiv transmiss network the microprocessor also control upload coeffici dsp thus may reconfigur dsp dynam respons condit data receiv instruct program for exampl microprocessor upload coeffici memori typic memori integr microprocessor dsp narrow widen spectral region focus move center frequenc modif coeffici loadnew threshold profil comparison signal this allow node cooper node concert task data acquisit modifi data process base current characterist sensor data fig showssequ use microprocessor allow node function insynchron tdma communic scheme the microprocessor begin initi process includ intern regist pointer memori address function next microprocessor formsschedul communic neighbor insimpl embodi microprocessor might schedul initi time slot activ schedul inform for exampl microprocessor individu node may ident master tabl schedul determin time slot intdma scheme alloc node complex embodi formingschedul may requir topolog learn communic slot alloc discuss network organ fig showsgener time diagram oftdma scheme may use invent schedul node activ node activ includ communic schedul inrep time frame broken shorter time slice specif node schedul transmit receiv respect specif time slice for exampl microprocessor ongiven node may schedul transmit data slice receiv data slice synch slicei defin byprevi program command recogn node allow node achiev synchron other synchron slice synch slicesand may also provid aid maintain time synchroni within frame refer fig initi microprocessor formsschedul set transceiv listen frame synch slice when frame synch slice receiv microprocessor set intern timer commenc appropri activ accord schedul for exampl particular node schedul receiv transmit upcom slice would load dsp coeffici acquir sensor data analyz dsp output includ detect alarm condit output threshold compar appropri schedul slice microprocessor enabl transceiv receiv data command transmit data includ alarm condit relay messag command node the microprocessor wait next frame synchand repeat activ inloop the transceiv inpref embodi transceiv control microprocessor provid bidirect communic betweennod node user communic data decis program routin network protocol mainten inform the transceiv prefer abil assumelow power consum mode need intim slot power conserv intdma communic scheme shown fig transceiv includestransmitt andreceiv share antenna power suppli typic batteri transmitt receiv respect enabl signal microprocessor univers asynchron transmitt uart control exampl chip avail maxim handl data transfer receiv transmitt microprocessor the receiv design prefer provid low nois high select maintain low power requir for protocol receiv abl oper period high duti cycl enabl node captur random arriv signal convent high integr transceiv avail suitabl use invent for exampl commerci avail chipset would includ rockwel digit cordless telephon dct chipset base around transceiv modul these high integr transceiv integr circuit suitabl oper mhz band suitabl accompani chip commerci avail sourc capabl digit spread spectrum dss oper other commerci avail suitabl use invent includ receiv transmitt monolith inc whichev use prefer chosen small size low quiescent peak power consumpt short turn time prefer transceiv electron integr sensor microprocessor signal process electron although invent primarili discuss context radio communic wireless node medium communic could wireless medium includ infrar optic acoust microwav ultrason wave various mean modul possibl within intend scope invent network organ network level invent employ various techniqu minim power consumpt node exploit larg number node densiti placement along low frequenc sensor data less perman placement node factor weigh favor ofnetwork use rout communic withincomplex topolog overlap wireless communic neighborhood environ dens place node low transmiss power advantag often power effici relaymessag via multipl relay low power transmiss refer multihop rather one high power long rang transmiss this isconsequ variat radiat intens distanc transmitt take form invers squar higher power function depend terrain ideal terrain assumingminimum invers squar attenu ten short straight line path transmiss distancerequir one tenth power one long transmiss across assum omnidirect antenna with real terrain effect differ general even pronounc therefor prefer transmitt oper atpow level excess requir reach onlysmal subset node reli relay transmiss span network this also enabl channel reus node rang one anoth conserv bandwidth low transmiss power level also provid low probabl intercept low probabl detect desir applic synchron protocol tdma prefer schedul communic within network method multipl node synchron inrep time frame paramet store memori associ respect microprocessor multipl node previous discuss time frame divid shorter time slice serv channel for exampl transceiv onspecif node caus transmit node microprocessor duringprogram time slot other node within transmiss rang transmit node control microprocessor receiv data via respect transceiv time slot receiv data earmark anoth destin node asus interfac node receiv node control microprocessor store messag exampl memori relay messag data transceiv anoth assign time slot way data relay network rout toward destin usuallynod access touser tdma advantag inlow power network sinc transmitt receiv idl power conserv state time interv requir howev programm node microprocessor enabl mani method organ access communic medium also within intend scope invent includ code divis multipl access cdma frequenc divis multipl access fdma exampl applic invent locat node may known advanc deploy high desir learn communic topolog network result placement terrain furthermor applic may desir oper indistribut manner control multipl node rather fromcentr locat this protect network jam interfer accident intent destruct the result network control wide distribut network reconfigur adapt chang condit invent microprocessor program learn topolog rout need ofnetwork either autonom user convent method may program includ layer net protocol suggest bhatnagar layer net new network protocol militari communic confer record vol describ ephremid design concept reliabl mobil radio network frequenc hop signal proceed vol iftdma access method use time slot withinrep time frame alloc convent method unifi slot assign protocol usap describ david young usap unifi dynam distribut multichannel tdma slot assign protocol militari communic confer record vol the aforement method provid exampl distribut autonom method organ network communic applic even simpl method direct assign channel byuser may use appropri while particular embodi invent shown describ numer variat altern embodi occur skill art accord intend invent limit term append claim 